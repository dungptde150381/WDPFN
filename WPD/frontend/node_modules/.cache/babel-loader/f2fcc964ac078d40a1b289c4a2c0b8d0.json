{"ast":null,"code":"import React,{Fragment,useState,useEffect}from'react';import MetaData from'../layout/MetaData';import Sidebar from'./Sidebar';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{updateUser,getUserDetails,clearErrors}from'../../actions/userActions';import{UPDATE_USER_RESET}from'../../constants/userConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const LookAccount=_ref=>{let{history,match}=_ref;const[name,setName]=useState('');const[email,setEmail]=useState('');const[role,setRole1]=useState('');const alert=useAlert();const dispatch=useDispatch();const{error,isUpdated}=useSelector(state=>state.user);const{user}=useSelector(state=>state.userDetails);const userId=match.params.id;useEffect(()=>{console.log(user&&user._id!==userId);if(user&&user._id!==userId){dispatch(getUserDetails(userId));}else{setName(user.name);setEmail(user.email);setRole1(user.role);}if(error){alert.error(error);dispatch(clearErrors());}if(isUpdated){alert.success('Khóa tài khoản thành công!');history.push('/admin/users');dispatch({type:UPDATE_USER_RESET});}},[dispatch,alert,error,history,isUpdated,userId,user]);const submitHandler=e=>{e.preventDefault();const formData=new FormData();formData.set('name',name);formData.set('email',email);formData.set('role',role);dispatch(updateUser(user._id,formData));};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:\"Update User\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-2\",children:/*#__PURE__*/_jsx(Sidebar,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-10 col-lg-5\",children:/*#__PURE__*/_jsxs(\"form\",{className:\"shadow-lg\",onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mt-2 mb-5\",children:\"KH\\xD3A T\\xC0I KHO\\u1EA2N\"}),/*#__PURE__*/_jsx(\"img\",{className:\"img_look container\",src:\"https://us.123rf.com/450wm/yupiramos/yupiramos1709/yupiramos170901899/85031041-viejo-dise%C3%B1o-aislado-clave-del-ejemplo-del-vector-del-icono.jpg?ver=6\",alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email_field\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email_field\",className:\"form-control\",name:\"email\",value:email,onChange:e=>setEmail(e.target.value),disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"role_field\",children:\"Quy\\u1EC1n\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"role_field\",className:\"form-control\",name:\"role\",value:\"look\",onChange:e=>setRole1(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"look\",children:\"Kh\\xF3a t\\xE0i kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"look\",children:\"Kh\\xF3a t\\xE0i kho\\u1EA3n\"})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn update-btn btn-block mt-4 mb-3\",children:\"Kh\\xF3a t\\xE0i kho\\u1EA3n\"})]})})})})]})]});};export default LookAccount;","map":{"version":3,"names":["React","Fragment","useState","useEffect","MetaData","Sidebar","useAlert","useDispatch","useSelector","updateUser","getUserDetails","clearErrors","UPDATE_USER_RESET","jsx","_jsx","jsxs","_jsxs","LookAccount","_ref","history","match","name","setName","email","setEmail","role","setRole1","alert","dispatch","error","isUpdated","state","user","userDetails","userId","params","id","console","log","_id","success","push","type","submitHandler","e","preventDefault","formData","FormData","set","children","title","className","onSubmit","src","alt","htmlFor","value","onChange","target","disabled"],"sources":["C:/Users/phamtiendung/Downloads/doan_2/doan/doan/frontend/src/components/admin/LookAccount.js"],"sourcesContent":["import React, { Fragment, useState, useEffect } from 'react'\n\nimport MetaData from '../layout/MetaData'\nimport Sidebar from './Sidebar'\n\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { updateUser, getUserDetails, clearErrors } from '../../actions/userActions'\nimport { UPDATE_USER_RESET } from '../../constants/userConstants'\n\nconst LookAccount = ({ history, match }) => {\n\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [role, setRole1] = useState('')\n\n    const alert = useAlert();\n    const dispatch = useDispatch();\n\n    const { error, isUpdated } = useSelector(state => state.user);\n    const { user } = useSelector(state => state.userDetails)\n\n    const userId = match.params.id;\n\n    useEffect(() => {\n\n        console.log(user && user._id !== userId);\n        if (user && user._id !== userId) {\n            dispatch(getUserDetails(userId))\n        } else {\n            setName(user.name);\n            setEmail(user.email);\n            setRole1(user.role)\n        }\n\n        if (error) {\n            alert.error(error);\n            dispatch(clearErrors());\n        }\n\n        if (isUpdated) {\n            alert.success('Khóa tài khoản thành công!')\n\n            history.push('/admin/users')\n\n            dispatch({\n                type: UPDATE_USER_RESET\n            })\n        }\n\n    }, [dispatch, alert, error, history, isUpdated, userId, user])\n\n    const submitHandler = (e) => {\n        e.preventDefault();\n\n        const formData = new FormData();\n        formData.set('name', name);\n        formData.set('email', email);\n        formData.set('role', role);\n\n        dispatch(updateUser(user._id, formData))\n    }\n\n\n    return (\n        <Fragment>\n            <MetaData title={`Update User`} />\n            <div className=\"row\">\n                <div className=\"col-12 col-md-2\">\n                    <Sidebar />\n                </div>\n\n                <div className=\"col-12 col-md-10\">\n                    <div className=\"row wrapper\">\n                        <div className=\"col-10 col-lg-5\">\n                            <form className=\"shadow-lg\" onSubmit={submitHandler}>\n                                <h1 className=\"mt-2 mb-5\">KHÓA TÀI KHOẢN</h1>\n                                <img className='img_look container' src='https://us.123rf.com/450wm/yupiramos/yupiramos1709/yupiramos170901899/85031041-viejo-dise%C3%B1o-aislado-clave-del-ejemplo-del-vector-del-icono.jpg?ver=6' alt='' />\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"email_field\">Email</label>\n                                    <input\n                                        type=\"email\"\n                                        id=\"email_field\"\n                                        className=\"form-control\"\n                                        name='email'\n                                        value={email}\n                                        onChange={(e) => setEmail(e.target.value)}\n                                        disabled\n                                    />\n                                </div>\n\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"role_field\">Quyền</label>\n\n                                    <select\n                                        id=\"role_field\"\n                                        className=\"form-control\"\n                                        name='role'\n                                        value=\"look\"\n                                        onChange={(e) => setRole1(e.target.value)}\n                                    >\n                                        <option value=\"look\">Khóa tài khoản</option>\n                                        <option value=\"look\">Khóa tài khoản</option>\n                                    </select>\n                                </div>\n\n                                <button type=\"submit\" className=\"btn update-btn btn-block mt-4 mb-3\" >Khóa tài khoản</button>\n                            </form>\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n        </Fragment>\n    )\n}\n\nexport default LookAccount\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}