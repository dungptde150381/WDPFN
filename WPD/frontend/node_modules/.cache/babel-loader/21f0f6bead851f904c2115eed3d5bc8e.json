{"ast":null,"code":"import React,{Fragment,useEffect}from'react';import{Link}from'react-router-dom';import MetaData from'../layout/MetaData';import Loader from'../layout/Loader';import{useAlert}from'react-alert';import{useDispatch,useSelector}from'react-redux';import{getOrderDetails,clearErrors}from'../../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const OrderDetails=_ref=>{let{match}=_ref;const alert=useAlert();const dispatch=useDispatch();const{loading,error,order={}}=useSelector(state=>state.orderDetails);const{shippingInfo,orderItems,paymentInfo,user,totalPrice,orderStatus}=order;useEffect(()=>{dispatch(getOrderDetails(match.params.id));if(error){alert.error(error);dispatch(clearErrors());}},[dispatch,alert,error,match.params.id]);const shippingDetails=shippingInfo&&\"\".concat(shippingInfo.address,\", \").concat(shippingInfo.city,\", \").concat(shippingInfo.postalCode,\", \").concat(shippingInfo.country);const isPaid=paymentInfo&&paymentInfo.status==='succeeded'?true:false;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MetaData,{title:'Danh sách đơn hàng'}),loading?/*#__PURE__*/_jsx(Loader,{}):/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"row d-flex justify-content-between\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-lg-8 mt-5 order-details\",children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"my-5\",children:[\"M\\xE3 \\u0111\\u01A1n: \",order._id]}),/*#__PURE__*/_jsx(\"h4\",{className:\"mb-4\",children:\"Th\\xF4ng tin \\u0111\\u1EB7t h\\xE0ng\"}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"T\\xEAn ng\\u01B0\\u1EDDi nh\\u1EADn:\"}),\" \",user&&user.name]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i:\"}),\" \",shippingInfo&&shippingInfo.phoneNo]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-4\",children:[/*#__PURE__*/_jsx(\"b\",{children:\"\\u0110\\u1ECBa ch\\u1EC9 giao:\"}),shippingDetails]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"b\",{children:\"T\\u1ED5ng ti\\u1EC1n:\"}),\" \",totalPrice,\"\\u0111\"]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"Thanh to\\xE1n\"}),/*#__PURE__*/_jsx(\"p\",{className:isPaid?\"greenColor\":\"redColor\",children:/*#__PURE__*/_jsx(\"b\",{children:isPaid?\"Đã thanh toán\":\"Chưa thanh toán\"})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"T\\xECnh tr\\u1EA1ng \\u0111\\u1EB7t h\\xE0ng:\"}),/*#__PURE__*/_jsx(\"p\",{className:order.orderStatus&&String(order.orderStatus).includes('Đã giao hàng')?\"greenColor\":\"redColor\",children:/*#__PURE__*/_jsx(\"b\",{children:orderStatus})}),/*#__PURE__*/_jsx(\"h4\",{className:\"my-4\",children:\"S\\u1EA3n ph\\u1EA9m:\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"cart-item my-1\",children:orderItems&&orderItems.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"row my-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,height:\"45\",width:\"65\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-5 col-lg-5\",children:/*#__PURE__*/_jsx(Link,{to:\"/products/\".concat(item.product),children:item.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-2 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.price.toLocaleString(),\"\\u0111\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-4 col-lg-3 mt-4 mt-lg-0\",children:/*#__PURE__*/_jsxs(\"p\",{children:[item.quantity,\" S\\u1EA3n ph\\u1EA9m\"]})})]},item.product))}),/*#__PURE__*/_jsx(\"hr\",{})]})})})]});};export default OrderDetails;","map":{"version":3,"names":["React","Fragment","useEffect","Link","MetaData","Loader","useAlert","useDispatch","useSelector","getOrderDetails","clearErrors","jsx","_jsx","jsxs","_jsxs","OrderDetails","_ref","match","alert","dispatch","loading","error","order","state","orderDetails","shippingInfo","orderItems","paymentInfo","user","totalPrice","orderStatus","params","id","shippingDetails","concat","address","city","postalCode","country","isPaid","status","children","title","className","_id","name","phoneNo","String","includes","map","item","src","image","alt","height","width","to","product","price","toLocaleString","quantity"],"sources":["C:/Users/phamtiendung/Downloads/doan_2/doan/doan/frontend/src/components/order/OrderDetails.js"],"sourcesContent":["import React, { Fragment, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\n\nimport MetaData from '../layout/MetaData'\nimport Loader from '../layout/Loader'\n\nimport { useAlert } from 'react-alert'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { getOrderDetails, clearErrors } from '../../actions/orderActions'\n\nconst OrderDetails = ({ match }) => {\n\n    const alert = useAlert();\n    const dispatch = useDispatch();\n\n    const { loading, error, order = {} } = useSelector(state => state.orderDetails)\n    const { shippingInfo, orderItems, paymentInfo, user, totalPrice, orderStatus } = order\n\n    useEffect(() => {\n        dispatch(getOrderDetails(match.params.id));\n\n        if (error) {\n            alert.error(error);\n            dispatch(clearErrors())\n        }\n    }, [dispatch, alert, error, match.params.id])\n\n    const shippingDetails = shippingInfo && `${shippingInfo.address}, ${shippingInfo.city}, ${shippingInfo.postalCode}, ${shippingInfo.country}`\n\n    const isPaid = paymentInfo && paymentInfo.status === 'succeeded' ? true : false\n\n    return (\n        <Fragment>\n            <MetaData title={'Danh sách đơn hàng'} />\n\n            {loading ? <Loader /> : (\n                <Fragment>\n                    <div className=\"row d-flex justify-content-between\">\n                        <div className=\"col-12 col-lg-8 mt-5 order-details\">\n\n                            <h1 className=\"my-5\">Mã đơn: {order._id}</h1>\n\n                            <h4 className=\"mb-4\">Thông tin đặt hàng</h4>\n                            <p><b>Tên người nhận:</b> {user && user.name}</p>\n                            <p><b>Số điện thoại:</b> {shippingInfo && shippingInfo.phoneNo}</p>\n                            <p className=\"mb-4\"><b>Địa chỉ giao:</b>{shippingDetails}</p>\n                            <p><b>Tổng tiền:</b> {totalPrice}đ</p>\n\n                            <hr />\n\n                            <h4 className=\"my-4\">Thanh toán</h4>\n                            <p className={isPaid ? \"greenColor\" : \"redColor\"}><b>{isPaid ? \"Đã thanh toán\" : \"Chưa thanh toán\"}</b></p>\n\n\n                            <h4 className=\"my-4\">Tình trạng đặt hàng:</h4>\n                            <p className={order.orderStatus && String(order.orderStatus).includes('Đã giao hàng') ? \"greenColor\" : \"redColor\"} ><b>{orderStatus}</b></p>\n\n\n                            <h4 className=\"my-4\">Sản phẩm:</h4>\n\n                            <hr />\n                            <div className=\"cart-item my-1\">\n                                {orderItems && orderItems.map(item => (\n                                    <div key={item.product} className=\"row my-5\">\n                                        <div className=\"col-4 col-lg-2\">\n                                            <img src={item.image} alt={item.name} height=\"45\" width=\"65\" />\n                                        </div>\n\n                                        <div className=\"col-5 col-lg-5\">\n                                            <Link to={`/products/${item.product}`}>{item.name}</Link>\n                                        </div>\n\n\n                                        <div className=\"col-4 col-lg-2 mt-4 mt-lg-0\">\n                                            <p>{(item.price).toLocaleString()}đ</p>\n                                        </div>\n\n                                        <div className=\"col-4 col-lg-3 mt-4 mt-lg-0\">\n                                            <p>{item.quantity} Sản phẩm</p>\n                                        </div>\n                                    </div>\n                                ))}\n                            </div>\n                            <hr />\n                        </div>\n                    </div>\n                </Fragment>\n            )}\n\n        </Fragment>\n    )\n}\n\nexport default OrderDetails\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}