{"ast":null,"code":"import React,{Fragment}from'react';import{Route,Redirect}from'react-router-dom';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";const ProtectedRoute=_ref=>{let{isAdmin,component:Component,...rest}=_ref;const{isAuthenticated,loading,user}=useSelector(state=>state.auth);return/*#__PURE__*/_jsx(Fragment,{children:loading===false&&/*#__PURE__*/_jsx(Route,{...rest,render:props=>{if(isAuthenticated===false){return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}if(isAdmin===true&&user.role!=='admin'){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsx(Component,{...props});}})});};export default ProtectedRoute;","map":{"version":3,"names":["React","Fragment","Route","Redirect","useSelector","jsx","_jsx","ProtectedRoute","_ref","isAdmin","component","Component","rest","isAuthenticated","loading","user","state","auth","children","render","props","to","role"],"sources":["C:/Users/phamtiendung/Downloads/doan_2/doan/doan/frontend/src/components/route/ProtectedRoute.js"],"sourcesContent":["import React, { Fragment } from 'react'\nimport { Route, Redirect } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst ProtectedRoute = ({ isAdmin, component: Component, ...rest }) => {\n\n    const { isAuthenticated, loading, user } = useSelector(state => state.auth)\n\n    return (\n        <Fragment>\n            {loading === false && (\n                <Route\n                    {...rest}\n                    render={props => {\n                        if (isAuthenticated === false) {\n                            return <Redirect to='/login' />\n                        }\n\n                        if (isAdmin === true && user.role !== 'admin') {\n                            return <Redirect to=\"/\" />\n                        }\n\n                        return <Component {...props} />\n                    }}\n                />\n            )}\n        </Fragment>\n    )\n}\n\nexport default ProtectedRoute\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAClD,OAASC,WAAW,KAAQ,aAAa,QAAAC,GAAA,IAAAC,IAAA,yBAEzC,KAAM,CAAAC,cAAc,CAAGC,IAAA,EAAgD,IAA/C,CAAEC,OAAO,CAAEC,SAAS,CAAEC,SAAS,CAAE,GAAGC,IAAK,CAAC,CAAAJ,IAAA,CAE9D,KAAM,CAAEK,eAAe,CAAEC,OAAO,CAAEC,IAAK,CAAC,CAAGX,WAAW,CAACY,KAAK,EAAIA,KAAK,CAACC,IAAI,CAAC,CAE3E,mBACIX,IAAA,CAACL,QAAQ,EAAAiB,QAAA,CACJJ,OAAO,GAAK,KAAK,eACdR,IAAA,CAACJ,KAAK,KACEU,IAAI,CACRO,MAAM,CAAEC,KAAK,EAAI,CACb,GAAIP,eAAe,GAAK,KAAK,CAAE,CAC3B,mBAAOP,IAAA,CAACH,QAAQ,EAACkB,EAAE,CAAC,QAAQ,CAAE,CAAC,CACnC,CAEA,GAAIZ,OAAO,GAAK,IAAI,EAAIM,IAAI,CAACO,IAAI,GAAK,OAAO,CAAE,CAC3C,mBAAOhB,IAAA,CAACH,QAAQ,EAACkB,EAAE,CAAC,GAAG,CAAE,CAAC,CAC9B,CAEA,mBAAOf,IAAA,CAACK,SAAS,KAAKS,KAAK,CAAG,CAAC,CACnC,CAAE,CACL,CACJ,CACK,CAAC,CAEnB,CAAC,CAED,cAAe,CAAAb,cAAc"},"metadata":{},"sourceType":"module"}