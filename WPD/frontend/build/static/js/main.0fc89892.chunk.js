(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{183:function(e,t,c){},615:function(e,t,c){"use strict";c.r(t);var s=c(2),a=c(25),r=c.n(a),n=c(12),l=c(30),i=c(9),d=c(18),o=c(22),j=c.n(o);const h="LOGIN_REQUEST",m="LOGIN_SUCCESS",b="LOGIN_FAIL",p="REGISTER_USER_REQUEST",u="REGISTER_USER_SUCCESS",O="REGISTER_USER_FAIL",x="LOAD_USER_REQUEST",g="LOAD_USER_SUCCESS",v="LOAD_USER_FAIL",y="UPDATE_PROFILE_REQUEST",N="UPDATE_PROFILE_SUCCESS",f="UPDATE_PROFILE_RESET",_="UPDATE_PROFILE_FAIL",S="UPDATE_PASSWORD_REQUEST",E="UPDATE_PASSWORD_SUCCESS",T="UPDATE_PASSWORD_RESET",w="UPDATE_PASSWORD_FAIL",C="FORGOT_PASSWORD_REQUEST",R="FORGOT_PASSWORD_SUCCESS",F="FORGOT_PASSWORD_FAIL",D="NEW_PASSWORD_REQUEST",k="NEW_PASSWORD_SUCCESS",I="NEW_PASSWORD_FAIL",A="ALL_USERS_REQUEST",U="ALL_USERS_SUCCESS",P="ALL_USERS_FAIL",L="USER_DETAILS_REQUEST",G="USER_DETAILS_SUCCESS",M="USER_DETAILS_FAIL",H="UPDATE_USER_REQUEST",W="UPDATE_USER_SUCCESS",Q="UPDATE_USER_RESET",V="UPDATE_USER_FAIL",B="LOGOUT_SUCCESS",q="LOGOUT_FAIL",K="CLEAR_ERRORS",X=()=>async e=>{try{e({type:x});const{data:t}=await j.a.get("/api/v1/me");e({type:g,payload:t.user})}catch(t){e({type:v,payload:t.response.data.message})}},z=()=>async e=>{try{e({type:A});const{data:t}=await j.a.get("/api/v1/admin/users");e({type:U,payload:t.users})}catch(t){e({type:P,payload:t.response.data.message})}},J=(e,t)=>async c=>{try{c({type:H});const s={headers:{"Content-Type":"application/json"}},{data:a}=await j.a.put("/api/v1/admin/user/".concat(e),t,s);c({type:W,payload:a.success})}catch(s){c({type:V,payload:s.response.data.message})}},Y=e=>async t=>{try{t({type:L});const{data:c}=await j.a.get("/api/v1/admin/user/".concat(e));t({type:G,payload:c.user})}catch(c){t({type:M,payload:c.response.data.message})}},Z=()=>async e=>{e({type:K})};var $=c(1);var ee=e=>{let{history:t}=e;const[c,a]=Object(s.useState)("");return Object($.jsx)("form",{onSubmit:e=>{e.preventDefault(),c.trim()?t.push("/search/".concat(c)):t.push("/")},children:Object($.jsxs)("div",{className:"input-group",children:[Object($.jsx)("input",{type:"text",id:"search_field",className:"form-control",placeholder:"\u0110i\u1ec3n t\xean s\u1ea3n ph\u1ea9m c\u1ea7n t\xecm ...",onChange:e=>a(e.target.value)}),Object($.jsx)("div",{className:"input-group-append",children:Object($.jsx)("button",{id:"search_btn",className:"btn",children:Object($.jsx)("i",{className:"fa fa-search","aria-hidden":"true"})})})]})})};c(183);var te=()=>{const e=Object(d.d)(),t=Object(i.b)(),{user:c,loading:a}=Object(i.c)((e=>e.auth)),{cartItems:r}=Object(i.c)((e=>e.cart));return Object($.jsx)(s.Fragment,{children:Object($.jsxs)("nav",{className:"navbar row",children:[Object($.jsx)("div",{className:"col-12 col-md-3",children:Object($.jsx)("div",{className:"navbar-brand",children:Object($.jsx)(n.b,{to:"/",children:Object($.jsx)("img",{src:"/images/logo.png",alt:""})})})}),Object($.jsx)("div",{className:"col-12 col-md-6 mt-2 mt-md-0",children:Object($.jsx)(l.b,{render:e=>{let{history:t}=e;return Object($.jsx)(ee,{history:t})}})}),Object($.jsxs)("div",{className:"col-12 col-md-3 mt-4 mt-md-0 text-center",children:[c&&"admin"===c.role?Object($.jsx)("p",{}):Object($.jsxs)(n.b,{to:"/cart",style:{textDecoration:"none"},children:[Object($.jsx)("span",{id:"cart",className:"ml-3",children:"Gi\u1ecf h\xe0ng"}),Object($.jsxs)("span",{className:"ml-1",id:"cart_count",children:[Object($.jsx)("i",{class:"bi bi-cart4"}),r.length]})]}),c?Object($.jsxs)("div",{className:"ml-4 dropdown d-inline",children:[Object($.jsxs)(n.b,{to:"#!",className:"btn dropdown-toggle text-white mr-4",type:"button",id:"dropDownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object($.jsx)("figure",{className:"avatar avatar-nav",children:Object($.jsx)("img",{src:c.avatar&&c.avatar.url,alt:c&&c.name,className:"rounded-circle"})}),Object($.jsx)("span",{children:c&&c.name})]}),Object($.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"dropDownMenuButton",children:[c&&"admin"===c.role&&Object($.jsx)(n.b,{className:"dropdown-item",to:"/dashboard",children:"Trang qu\u1ea3n tr\u1ecb"}),c&&"admin"!==c.role&&Object($.jsx)(n.b,{className:"dropdown-item",to:"/orders/me",children:"\u0110\u01a1n \u0111\u1eb7t h\xe0ng"}),Object($.jsx)(n.b,{className:"dropdown-item",to:"/me",children:"Th\xf4ng tin c\xe1 nh\xe2n"}),Object($.jsx)(n.b,{className:"dropdown-item text-danger",to:"/",onClick:()=>{t((async e=>{try{await j.a.get("/api/v1/logout"),e({type:B})}catch(t){e({type:q,payload:t.response.data.message})}})),e.success("\u0110\u0103ng xu\u1ea5t th\xe0nh c\xf4ng")},children:"\u0110\u0103ng xu\u1ea5t"})]})]}):!a&&Object($.jsx)(n.b,{to:"/login",className:"btn ml-4",id:"login_btn",children:"\u0110\u0103ng nh\u1eadp"})]})]})})};var ce=()=>Object($.jsx)(s.Fragment,{children:Object($.jsxs)("footer",{className:"footer",children:[Object($.jsx)("br",{}),Object($.jsx)("div",{className:"footer-top section",children:Object($.jsx)("div",{className:"container",children:Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-lg-5 col-md-6 col-12",children:Object($.jsxs)("div",{className:"single-footer about",children:[Object($.jsx)("div",{className:"logo",children:Object($.jsx)("a",{href:"index.html",children:Object($.jsx)("img",{src:"/images/logo.png",alt:"#"})})}),Object($.jsx)("p",{className:"text",children:"Website b\xe1n h\xe0ng tr\u1ef1c tuy\u1ebfn c\u1ee7a H\u01b0ng Th\xe0nh Store, h\u1ed7 tr\u1ee3 24/7 c\xf9ng nhi\u1ec1u \u01b0u \u0111\u1eabi h\u1ea5p d\u1eabn. Lu\xf4n lu\xf4n c\u1eadp nh\u1eadt m\u1edbi nhi\u1ec1u s\u1ea3n ph\u1ea9m."}),Object($.jsxs)("p",{className:"text",children:["C\u1ea7n h\u1ed7 tr\u1ee3 li\xean h\u1ec7 v\u1edbi ch\xfang t\xf4i: ",Object($.jsx)("span",{children:Object($.jsx)("a",{href:"tel:123456789",children:"+0123 456 789"})})]})]})}),Object($.jsx)("div",{className:"col-lg-2 col-md-6 col-12",children:Object($.jsxs)("div",{className:"single-footer links",children:[Object($.jsx)("h4",{children:"Th\xf4ng tin"}),Object($.jsxs)("ul",{children:[Object($.jsx)("li",{children:Object($.jsx)(n.b,{to:"",children:"V\u1ec1 ch\xfang t\xf4i"})}),Object($.jsx)("li",{children:Object($.jsx)(n.b,{to:"",children:"\u0110i\u1ec1u kho\u1ea3n v\xe0 \u0111i\u1ec1u ki\u1ec7n"})}),Object($.jsx)("li",{children:Object($.jsx)(n.b,{to:"",children:"Li\xean h\u1ec7 v\u1edbi ch\xfang t\xf4i"})}),Object($.jsx)("li",{children:Object($.jsx)(n.b,{to:"",children:"Gi\xfap \u0111\u1ee1"})})]})]})}),Object($.jsx)("div",{className:"col-lg-2 col-md-6 col-12",children:Object($.jsxs)("div",{className:"single-footer links",children:[Object($.jsx)("h4",{children:"D\u1ecbch v\u1ee5 kh\xe1ch h\xe0ng"}),Object($.jsxs)("ul",{children:[Object($.jsx)("li",{children:Object($.jsx)(n.b,{to:"",children:"Ph\u01b0\u01a1ng th\u1ee9c thanh to\xe1n"})}),Object($.jsx)("li",{children:Object($.jsx)(n.b,{to:"",children:"Ho\xe0n ti\u1ec1n"})}),Object($.jsx)("li",{children:Object($.jsx)(n.b,{to:"",children:"Giao h\xe0ng"})}),Object($.jsx)("li",{children:Object($.jsx)(n.b,{to:"",children:"\u0110i\u1ec1u kho\u1ea3n v\xe0 b\u1ea3o m\u1eadt"})})]})]})}),Object($.jsx)("div",{className:"col-lg-3 col-md-6 col-12",children:Object($.jsxs)("div",{className:"single-footer social",children:[Object($.jsx)("h4",{children:"Th\xf4ng tin"}),Object($.jsx)("div",{className:"contact",children:Object($.jsxs)("ul",{children:[Object($.jsx)("li",{children:"17 Ph\u1ea1m C\u1ef1 L\u01b0\u1ee3ng"}),Object($.jsx)("li",{children:"Nh\xf3m 5"}),Object($.jsx)("li",{children:"HungThanh@tltore.com"}),Object($.jsx)("li",{children:"+012 3456 7890"})]})}),Object($.jsx)("ul",{})]})})]})})}),Object($.jsx)("div",{className:"copyright",children:Object($.jsx)("div",{className:"container",children:Object($.jsx)("div",{className:"inner",children:Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-lg-12 col-12",children:Object($.jsx)("div",{className:"text-center",children:Object($.jsx)("p",{children:"Copyright \xa9 2022 By Nh\xf3m 5"})})}),Object($.jsx)("div",{className:"col-lg-6 col-12",children:Object($.jsx)("div",{className:"right"})})]})})})})]})}),se=c(300),ae=c.n(se),re=c(172),ne=(c(363),c(303));var le=e=>{let{title:t}=e;return Object($.jsx)(ne.a,{children:Object($.jsx)("title",{children:"".concat(t," - 60CNTT.1")})})};var ie=e=>{let{product:t,col:c}=e;return Object($.jsx)("div",{className:"col-sm-12 col-md-6 col-lg-".concat(c," my-3"),children:Object($.jsxs)("div",{className:" card card p-3 rounded",children:[Object($.jsx)(n.b,{to:"/product/".concat(t._id),children:Object($.jsx)("img",{className:"card-img-top mx-auto",src:t.images[0].url,alt:""})}),Object($.jsxs)("div",{className:"card-body d-flex flex-column",children:[Object($.jsx)("h5",{className:"card-title",children:Object($.jsx)(n.b,{to:"/product/".concat(t._id),children:t.name})}),Object($.jsxs)("div",{className:"ratings mt-auto",children:[Object($.jsx)("div",{className:"rating-outer",children:Object($.jsx)("div",{className:"rating-inner",style:{width:"".concat(t.ratings/5*100,"%")}})}),Object($.jsxs)("span",{id:"no_of_reviews",children:["(",t.numOfReviews," \u0111\xe1nh gi\xe1)"]})]}),Object($.jsxs)("p",{className:"card-text",children:[t.price.toLocaleString(),"\u0111"]}),Object($.jsx)("div",{class:"container",children:Object($.jsx)("div",{class:"row",children:Object($.jsxs)(n.b,{to:"/product/".concat(t._id),id:"view_btn",className:"btn btn-block",children:[Object($.jsx)("i",{class:"fa fa-eye","aria-hidden":"true",children:Object($.jsx)("span",{children:"\xa0"})}),"Xem chi ti\u1ebft"]})})})]})]})})};var de=()=>Object($.jsx)("div",{className:"containerr",children:Object($.jsx)("div",{className:"loaderv loader9"})});const oe="ADMIN_PRODUCTS_REQUEST",je="ADMIN_PRODUCTS_SUCCESS",he="ADMIN_PRODUCTS_FAIL",me="ALL_PRODUCTS_REQUEST",be="ALL_PRODUCTS_SUCCESS",pe="ALL_PRODUCTS_FAIL",ue="NEW_PRODUCT_REQUEST",Oe="NEW_PRODUCT_SUCCESS",xe="NEW_PRODUCT_RESET",ge="NEW_PRODUCT_FAIL",ve="DELETE_PRODUCT_REQUEST",ye="DELETE_PRODUCT_SUCCESS",Ne="DELETE_PRODUCT_RESET",fe="DELETE_PRODUCT_FAIL",_e="UPDATE_PRODUCT_REQUEST",Se="UPDATE_PRODUCT_SUCCESS",Ee="UPDATE_PRODUCT_RESET",Te="UPDATE_PRODUCT_FAIL",we="PRODUCT_DETAILS_REQUEST",Ce="PRODUCT_DETAILS_SUCCESS",Re="PRODUCT_DETAILS_FAIL",Fe="NEW_REVIEW_REQUEST",De="NEW_REVIEW_SUCCESS",ke="NEW_REVIEW_RESET",Ie="NEW_REVIEW_FAIL",Ae="GET_REVIEWS_REQUEST",Ue="GET_REVIEWS_SUCCESS",Pe="GET_REVIEWS_FAIL",Le="DELETE_REVIEW_REQUEST",Ge="DELETE_REVIEW_SUCCESS",Me="DELETE_REVIEW_RESET",He="DELETE_REVIEW_FAIL",We="CLEAR_ERRORS",Qe=e=>async t=>{try{t({type:we});const{data:c}=await j.a.get("/api/v1/product/".concat(e));t({type:Ce,payload:c.product})}catch(c){t({type:Re,payload:c.response.data.message})}},Ve=()=>async e=>{try{e({type:oe});const{data:t}=await j.a.get("/api/v1/admin/products");e({type:je,payload:t.products})}catch(t){e({type:he,payload:t.response.data.message})}},Be=e=>async t=>{try{t({type:Ae});const{data:c}=await j.a.get("/api/v1/reviews?id=".concat(e));t({type:Ue,payload:c.reviews})}catch(c){t({type:Pe,payload:c.response.data.message})}},qe=()=>async e=>{e({type:We})};class Ke extends s.Component{render(){return Object($.jsxs)("div",{id:"carouselExampleFade",className:"carousel slide carousel-fade","data-ride":"carousel",children:[Object($.jsxs)("div",{className:"carousel-inner",children:[Object($.jsx)("div",{className:"carousel-item active",children:Object($.jsx)("img",{className:"d-block w-100",src:"https://cdn-crownx.winmart.vn/images/prod/5_f57517d5-2c25-4edb-a372-9bc83971ef1b.jpg",height:500,alt:"First slide"})}),Object($.jsx)("div",{className:"carousel-item",children:Object($.jsx)("img",{className:"d-block w-100",src:"https://cdn-crownx.winmart.vn/images/prod/7_feba59fd-77f4-41ae-80ed-02cb70628eef.jpg",height:500,alt:"Second slide"})}),Object($.jsx)("div",{className:"carousel-item",children:Object($.jsx)("img",{className:"d-block w-100",src:"https://cdn-crownx.winmart.vn/images/prod/3_f7f32174-8dfb-4783-b5c8-72e2827d1eae.jpg",height:500,alt:"Third slide"})}),Object($.jsx)("div",{className:"carousel-item",children:Object($.jsx)("img",{className:"d-block w-100",src:"https://cdn-crownx.winmart.vn/images/prod/barona_15-31.01_d807d5c2-494e-4105-a0ea-9c4a4d526e17.png",height:500,alt:"Four slide"})}),Object($.jsx)("div",{className:"carousel-item",children:Object($.jsx)("img",{className:"d-block w-100",src:"https://cdn-crownx.winmart.vn/images/prod/8_4996d437-64f1-4426-afd0-95fdbd57e185.jpg",height:500,alt:"Four slide"})})]}),Object($.jsxs)("a",{className:"carousel-control-prev",href:"#carouselExampleFade",role:"button","data-slide":"prev",children:[Object($.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object($.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object($.jsxs)("a",{className:"carousel-control-next",href:"#carouselExampleFade",role:"button","data-slide":"next",children:[Object($.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object($.jsx)("span",{className:"sr-only",children:"Next"})]})]})}}var Xe=Ke;const{createSliderWithTooltip:ze}=re.a,Je=ze(re.a.Range);var Ye=e=>{let{match:t}=e;const[c,a]=Object(s.useState)(1),[r,n]=Object(s.useState)([1,1e6]),[l,o]=Object(s.useState)(""),[h,m]=Object(s.useState)(0),b=Object(d.d)(),p=Object(i.b)(),{loading:u,products:O,error:x,productsCount:g,resPerPage:v,filteredProductsCount:y}=Object(i.c)((e=>e.products)),N=t.params.keyword;Object(s.useEffect)((()=>{if(x)return b.error(x);p(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,c=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return async r=>{try{r({type:me});let n="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&ratings[gte]=").concat(a);s&&(n="/api/v1/products?keyword=".concat(e,"&page=").concat(t,"&price[lte]=").concat(c[1],"&price[gte]=").concat(c[0],"&category=").concat(s,"&ratings[gte]=").concat(a));const{data:l}=await j.a.get(n);r({type:be,payload:l})}catch(x){r({type:pe,payload:x.response.data.message})}}}(N,c,r,l,h))}),[p,b,x,N,c,r,l,h]);let f=g;return N&&(f=y),Object($.jsxs)(s.Fragment,{children:[Object($.jsx)("slideCategoryy",{}),Object($.jsx)(Xe,{}),Object($.jsx)("br",{}),Object($.jsx)("h3",{className:"text-center",children:"Danh m\u1ee5c s\u1ea3n ph\u1ea9m"}),Object($.jsx)("div",{id:"products_heading",className:"container container-fluid",children:Object($.jsx)("ul",{id:"ul_top_hypers",children:["Rau-C\u1ee7-Tr\xe1i c\xe2y","Th\u1ecbt-Tr\u1ee9ng-H\u1ea3i s\u1ea3n","Th\u1ef1c ph\u1ea9m ch\u1ebf bi\u1ebfn","Th\u1ef1c ph\u1ea9m \u0111\xf4ng l\u1ea1nh","Th\u1ef1c ph\u1ea9m Kh\xf4 - Gia V\u1ecb","B\xe1nh k\u1eb9o - \u0110\u1ed3 \u0103n v\u1eb7t","S\u1eefa - S\u1ea3n ph\u1ea9m t\u1eeb s\u1eefa","\u0110\u1ed3 u\u1ed1ng - Gi\u1ea3i kh\xe1t","H\xf3a M\u1ef9 ph\u1ea9m","Ch\u0103m s\xf3c c\xe1 nh\xe2n","Ch\u0103m s\xf3c m\u1eb9 v\xe0 b\xe9","Th\u1ec3 thao"].map((e=>Object($.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:()=>o(e),children:Object($.jsxs)("div",{className:"button",children:[Object($.jsx)("p",{className:"btnText",children:e}),Object($.jsx)("div",{className:"btnTwo",children:Object($.jsx)("p",{className:"btnText2",children:"Ch\u1ecdn!"})})]})},e)))})}),Object($.jsx)("br",{}),u?Object($.jsx)(de,{}):Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Website b\xe1n h\xe0ng tr\u1ef1c tuy\u1ebfn"}),Object($.jsx)("h1",{id:"products_heading",className:"container container-fluid",children:"\u2003\u2003\u2003"}),Object($.jsx)("h3",{className:"text-center",children:"S\u1ea3n ph\u1ea9m"}),Object($.jsx)("section",{id:"products",className:"container mt-5",children:Object($.jsx)("div",{className:"row",children:N?Object($.jsxs)(s.Fragment,{children:[Object($.jsx)("div",{className:"col-6 col-md-3 mt-5 mb-5",children:Object($.jsxs)("div",{className:"px-5",children:[Object($.jsx)("h4",{className:"mb-5",children:"Kho\u1ea3ng gi\xe1"}),Object($.jsx)(Je,{marks:{1e4:"10.000",1e6:"1.000.000"},min:10,max:1e6,defaultValue:[1,1e6],tipFormatter:e=>"".concat(e),tipProps:{placement:"top",visible:!0},value:r,onChange:e=>n(e)}),Object($.jsx)("br",{}),Object($.jsx)("hr",{className:"my-3"}),Object($.jsxs)("div",{className:"mt-5",children:[Object($.jsx)("h4",{className:"mb-3",children:"\u0110\xe1nh gi\xe1"}),Object($.jsx)("ul",{className:"pl-0",children:[5,4,3,2,1].map((e=>Object($.jsx)("li",{style:{cursor:"pointer",listStyleType:"none"},onClick:()=>m(e),children:Object($.jsx)("div",{className:"rating-outer",children:Object($.jsx)("div",{className:"rating-inner",style:{width:"".concat(20*e,"%")}})})},e)))})]})]})}),Object($.jsx)("div",{className:"col-6 col-md-9",children:Object($.jsx)("div",{className:"row",children:O.map((e=>Object($.jsx)(ie,{product:e,col:4},e._id)))})})]}):O.map((e=>Object($.jsx)(ie,{product:e,col:3},e._id)))})}),v<=f&&Object($.jsx)("div",{className:"d-flex justify-content-center mt-5",children:Object($.jsx)(ae.a,{activePage:c,itemsCountPerPage:v,totalItemsCount:g,onChange:function(e){a(e)},nextPageText:"Ti\u1ebfp",prevPageText:"Tr\u1edf v\u1ec1",firstPageText:"\u0110\u1ea7u ti\xean",lastPageText:"Cu\u1ed1i c\xf9ng",itemClass:"page-item",linkClass:"page-link"})})]})]})},Ze=c(626);var $e=e=>{let{reviews:t}=e;return Object($.jsxs)("div",{class:"reviews w-75",children:[Object($.jsx)("h3",{children:"\u0110\xc1NH GI\xc1 S\u1ea2N PH\u1ea8M:"}),Object($.jsx)("hr",{}),t&&t.map((e=>Object($.jsxs)("div",{class:"review-card my-3",children:[Object($.jsxs)("p",{class:"review_user",children:[Object($.jsx)("figure",{className:"avatar avatar-nav",children:Object($.jsx)("img",{src:"https://static2.yan.vn/YanNews/2167221/202102/facebook-cap-nhat-avatar-doi-voi-tai-khoan-khong-su-dung-anh-dai-dien-e4abd14d.jpg",alt:"",className:"rounded-circle"})}),Object($.jsx)("b",{children:e.name}),"\u2002",Object($.jsx)("div",{class:"rating-outer",children:Object($.jsx)("div",{class:"rating-inner",style:{width:"".concat(e.rating/5*100,"%")}})})]}),Object($.jsx)("p",{class:"review_comment text-primary",children:e.comment}),Object($.jsx)("hr",{})]},e._id)))]})};const et="ADD_TO_CART",tt="REMOVE_ITEM_CART",ct="SAVE_SHIPPING_INFO",st=(e,t)=>async(c,s)=>{const{data:a}=await j.a.get("/api/v1/product/".concat(e));c({type:et,payload:{product:a.product._id,name:a.product.name,price:a.product.price,image:a.product.images[0].url,stock:a.product.stock,quantity:t}}),localStorage.setItem("cartItems",JSON.stringify(s().cart.cartItems))};var at=e=>{let{match:t}=e;const[c,a]=Object(s.useState)(1),[r,n]=Object(s.useState)(0),[l,o]=Object(s.useState)(""),h=Object(i.b)(),m=Object(d.d)(),{loading:b,error:p,product:u}=Object(i.c)((e=>e.productDetails)),{user:O}=Object(i.c)((e=>e.auth)),{error:x,success:g}=Object(i.c)((e=>e.newReview));Object(s.useEffect)((()=>{h(Qe(t.params.id)),p&&(m.error(p),h(qe())),x&&(m.error(x),h(qe())),g&&(m.success("\u0110\xe1nh gi\xe1 th\xe0nh c\xf4ng"),h({type:ke}))}),[h,m,p,x,t.params.id,g]);return Object($.jsx)(s.Fragment,{children:b?Object($.jsx)(de,{}):Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:u.name}),Object($.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object($.jsx)("div",{className:"col-12 col-lg-5 img-fluid",id:"product_image",children:Object($.jsx)(Ze.a,{pause:"hover",children:u.images&&u.images.map((e=>Object($.jsx)(Ze.a.Item,{children:Object($.jsx)("img",{className:"d-block w-100",src:e.url,alt:u.title})},e.public_id)))})}),Object($.jsxs)("div",{className:"col-12 col-lg-5 mt-5",children:[Object($.jsx)("h3",{children:u.name}),Object($.jsx)("hr",{}),Object($.jsxs)("div",{className:"rating-outer",children:[Object($.jsx)("span",{id:"no_of_reviews",children:u.ratings}),Object($.jsx)("div",{className:"rating-inner",style:{width:"".concat(u.ratings/5*100,"%")}})]}),Object($.jsxs)("span",{id:"no_of_reviews",children:["(",u.numOfReviews," \u0111\xe1nh gi\xe1)"]}),Object($.jsx)("hr",{}),Object($.jsxs)("p",{id:"product_price",children:[u.price,"\u0111"]}),Object($.jsxs)("div",{className:"stockCounter d-inline",children:[Object($.jsx)("span",{className:"btn btn-danger minus",onClick:()=>{const e=document.querySelector(".count");if(e.valueAsNumber<=1)return;const t=e.valueAsNumber-1;a(t)},children:"-"}),Object($.jsx)("input",{type:"number",className:"form-control count d-inline",value:c,readOnly:!0}),Object($.jsx)("span",{className:"btn btn-primary plus",onClick:()=>{const e=document.querySelector(".count");if(e.valueAsNumber>=u.stock)return;const t=e.valueAsNumber+1;a(t)},children:"+"})]}),Object($.jsx)("button",{type:"button",id:"cart_btn",className:"btn btn-primary d-inline ml-4",disabled:0===u.stock,onClick:()=>{h(st(t.params.id,c)),m.success("\u0110\xe3 th\xeam v\xe0o gi\u1ecf h\xe0ng")},children:"Th\xeam v\xe0o gi\u1ecf h\xe0ng"}),Object($.jsx)("hr",{}),Object($.jsxs)("p",{children:["T\xecnh tr\u1ea1ng h\xe0ng: ",Object($.jsx)("span",{id:"stock_status",className:u.stock>0?"greenColor":"redColor",children:u.stock>0?"C\xf2n h\xe0ng":"H\u1ebft h\xe0ng"})]}),Object($.jsx)("hr",{}),Object($.jsx)("h4",{className:"mt-2",children:"M\xf4 t\u1ea3:"}),Object($.jsx)("p",{children:u.description}),Object($.jsx)("hr",{}),Object($.jsxs)("p",{id:"product_seller mb-3",children:["Xu\u1ea5t x\u1ee9: ",Object($.jsx)("strong",{children:u.seller})]}),O?Object($.jsx)("button",{id:"review_btn",type:"button",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#ratingModal",onClick:function(){const e=document.querySelectorAll(".star");function t(t){e.forEach(((e,c)=>{"click"===t.type&&(c<this.starValue?(e.classList.add("orange"),n(this.starValue)):e.classList.remove("orange")),"mouseover"===t.type&&(c<this.starValue?e.classList.add("yellow"):e.classList.remove("yellow")),"mouseout"===t.type&&e.classList.remove("yellow")}))}e.forEach(((e,c)=>{e.starValue=c+1,["click","mouseover","mouseout"].forEach((function(c){e.addEventListener(c,t)}))}))},children:"B\xecnh lu\u1eadn s\u1ea3n ph\u1ea9m"}):Object($.jsx)("div",{className:"alert alert-danger mt-5",type:"alert",children:"B\u1ea1n c\u1ea7n \u0111\u0103ng nh\u1eadp \u0111\u1ec3 c\xf3 th\u1ec3 \u0111\xe1nh gi\xe1 \u0111\u01b0\u1ee3c s\u1ea3n ph\u1ea9m n\xe0y."}),Object($.jsx)("div",{className:"row mt-2 mb-5",children:Object($.jsx)("div",{className:"rating w-50",children:Object($.jsx)("div",{className:"modal fade",id:"ratingModal",tabIndex:"-1",role:"dialog","aria-labelledby":"ratingModalLabel","aria-hidden":"true",children:Object($.jsx)("div",{className:"modal-dialog",role:"document",children:Object($.jsxs)("div",{className:"modal-content",children:[Object($.jsxs)("div",{className:"modal-header",children:[Object($.jsx)("h5",{className:"modal-title",id:"ratingModalLabel",children:"\u0110\xe1nh gi\xe1 s\u1ea3n ph\u1ea9m"}),Object($.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object($.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object($.jsxs)("div",{className:"modal-body",children:[Object($.jsxs)("ul",{className:"stars",children:[Object($.jsx)("li",{className:"star",children:Object($.jsx)("i",{className:"fa fa-star"})}),Object($.jsx)("li",{className:"star",children:Object($.jsx)("i",{className:"fa fa-star"})}),Object($.jsx)("li",{className:"star",children:Object($.jsx)("i",{className:"fa fa-star"})}),Object($.jsx)("li",{className:"star",children:Object($.jsx)("i",{className:"fa fa-star"})}),Object($.jsx)("li",{className:"star",children:Object($.jsx)("i",{className:"fa fa-star"})})]}),Object($.jsx)("textarea",{name:"review",id:"review",className:"form-control mt-3",value:l,onChange:e=>o(e.target.value)}),Object($.jsx)("button",{className:"btn my-3 float-right review-btn px-4 bg-primary",onClick:()=>{const e=new FormData;var c;e.set("rating",r),e.set("comment",l),e.set("productId",t.params.id),h((c=e,async e=>{try{e({type:Fe});const t={headers:{"Content-Type":"application/json"}},{data:s}=await j.a.put("/api/v1/review",c,t);e({type:De,payload:s.success})}catch(p){e({type:Ie,payload:p.response.data.message})}}))},"data-dismiss":"modal","aria-label":"Close",children:"G\u1eedi b\xecnh lu\u1eadn"})]})]})})})})})]})]}),Object($.jsx)("div",{className:"container",children:u.reviews&&u.reviews.length>0&&Object($.jsx)($e,{reviews:u.reviews})})]})})};var rt=e=>{let{history:t}=e;const c=Object(i.b)(),{cartItems:a}=Object(i.c)((e=>e.cart)),r=e=>{c((e=>async(t,c)=>{t({type:tt,payload:e}),localStorage.setItem("cartItems",JSON.stringify(c().cart.cartItems))})(e))};return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Gi\u1ecf h\xe0ng c\u1ee7a b\u1ea1n"}),0===a.length?Object($.jsx)("div",{className:"container-fluid mt-100",children:Object($.jsx)("div",{className:"row",children:Object($.jsx)("div",{className:"col-md-12",children:Object($.jsxs)("div",{className:"card",children:[Object($.jsx)("div",{className:"card-header",children:Object($.jsx)("h5",{children:"Gi\u1ecf h\xe0ng"})}),Object($.jsx)("div",{className:"card-body cart",children:Object($.jsxs)("div",{className:"col-sm-12 empty-cart-cls text-center",children:[" ",Object($.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/2037/2037457.png",width:130,height:130,className:"img-fluid mb-4 mr-3",alt:""}),Object($.jsx)("h3",{children:Object($.jsx)("strong",{children:"Gi\u1ecf h\xe0ng c\u1ee7a b\u1ea1n tr\u1ed1ng"})}),Object($.jsx)("h4",{children:"H\xe3y th\xeam m\u1ed9t c\xe1i g\xec \u0111\xf3 \u0111\u1ec3 gi\u1ecf h\xe0ng \u0111\u1ea7y \u1eafp t\xecnh y\xeau th\u01b0\u01a1ng!"})," ",Object($.jsx)(n.b,{to:"/",className:"btn btn-primary cart-btn-transform m-3","data-abc":"true",children:"Ti\u1ebfp t\u1ee5c mua s\u1eafm"})]})})]})})})}):Object($.jsxs)(s.Fragment,{children:[Object($.jsxs)("h3",{className:"mt-5",children:["Gi\u1ecf h\xe0ng c\u1ee7a b\u1ea1n \u0111ang c\xf3: ",Object($.jsxs)("b",{children:[a.length," s\u1ea3n ph\u1ea9m"]})]}),Object($.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object($.jsx)("div",{className:"col-12 col-lg-8",children:a.map((e=>Object($.jsxs)(s.Fragment,{children:[Object($.jsx)("hr",{}),Object($.jsx)("div",{className:"cart-item",children:Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-4 col-lg-3",children:Object($.jsx)("img",{src:e.image,alt:"Laptop",height:"90",width:"115"})}),Object($.jsx)("div",{className:"col-5 col-lg-3",children:Object($.jsx)(n.b,{to:"/product/".concat(e.product),children:e.name})}),Object($.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object($.jsxs)("p",{className:"text-primary",children:[e.price.toLocaleString(),"\u0111"]})}),Object($.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object($.jsxs)("div",{className:"stockCounter d-inline",children:[Object($.jsx)("span",{className:"btn btn-danger minus",onClick:()=>((e,t)=>{const s=t-1;s<=0||c(st(e,s))})(e.product,e.quantity),children:"-"}),Object($.jsx)("input",{type:"number",className:"form-control count d-inline",value:e.quantity,readOnly:!0}),Object($.jsx)("span",{className:"btn btn-primary plus",onClick:()=>((e,t,s)=>{const a=t+1;a>s||c(st(e,a))})(e.product,e.quantity,e.stock),children:"+"})]})}),Object($.jsx)("div",{className:"col-4 col-lg-1 mt-4 mt-lg-0",children:Object($.jsx)("i",{id:"delete_cart_item",className:"fa fa-trash btn btn-danger",onClick:()=>r(e.product)})})]})},e.product),Object($.jsx)("hr",{})]})))}),Object($.jsx)("div",{className:"col-12 col-lg-4 my-4",children:Object($.jsxs)("div",{id:"order_summary",children:[Object($.jsx)("h4",{className:"text-center",children:"T\u1ed5ng gi\xe1 tr\u1ecb \u0111\u01a1n h\xe0ng"}),Object($.jsx)("hr",{}),Object($.jsxs)("p",{children:["S\u1ed1 l\u01b0\u1ee3ng:  ",Object($.jsxs)("span",{className:"order-summary-values",children:[a.reduce(((e,t)=>e+Number(t.quantity)),0)," (S\u1ea3n ph\u1ea9m)"]})]}),Object($.jsxs)("p",{children:["T\u1ed5ng ti\u1ec1n: ",Object($.jsxs)("span",{className:"order-summary-values",children:[a.reduce(((e,t)=>e+t.quantity*t.price),0).toLocaleString(),"\u0111"]})]}),Object($.jsx)("hr",{}),Object($.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:()=>{t.push("/login?redirect=shipping")},children:"\u0110\u1eb7t h\xe0ng"})," "]})})]})]})]})};var nt=e=>{let{shipping:t,confirmOrder:c,payment:s}=e;return Object($.jsxs)("div",{className:"checkout-progress d-flex justify-content-center mt-5",children:[t?Object($.jsxs)(n.b,{to:"/shipping",className:"float-right",children:[Object($.jsx)("div",{className:"triangle2-active"}),Object($.jsx)("div",{className:"step active-step",children:"V\u1eadn chuy\u1ec3n"}),Object($.jsx)("div",{className:"triangle-active"})]}):Object($.jsxs)(n.b,{to:"#!",disabled:!0,children:[Object($.jsx)("div",{className:"triangle2-incomplete"}),Object($.jsx)("div",{className:"step incomplete",children:"V\u1eadn chuy\u1ec3n"}),Object($.jsx)("div",{className:"triangle-incomplete"})]}),c?Object($.jsxs)(n.b,{to:"/confirm",className:"float-right",children:[Object($.jsx)("div",{className:"triangle2-active"}),Object($.jsx)("div",{className:"step active-step",children:"X\xe1c nh\u1eadn h\xf3a \u0111\u01a1n"}),Object($.jsx)("div",{className:"triangle-active"})]}):Object($.jsxs)(n.b,{to:"#!",disabled:!0,children:[Object($.jsx)("div",{className:"triangle2-incomplete"}),Object($.jsx)("div",{className:"step incomplete",children:"X\xe1c nh\u1eadn h\xf3a \u0111\u01a1n"}),Object($.jsx)("div",{className:"triangle-incomplete"})]}),s?Object($.jsxs)(n.b,{to:"/payment",className:"float-right",children:[Object($.jsx)("div",{className:"triangle2-active"}),Object($.jsx)("div",{className:"step active-step",children:"Thanh to\xe1n"}),Object($.jsx)("div",{className:"triangle-active"})]}):Object($.jsxs)(n.b,{to:"#!",disabled:!0,children:[Object($.jsx)("div",{className:"triangle2-incomplete"}),Object($.jsx)("div",{className:"step incomplete",children:"Thanh to\xe1n"}),Object($.jsx)("div",{className:"triangle-incomplete"})]})]})};var lt=e=>{let{history:t}=e;const{shippingInfo:c}=Object(i.c)((e=>e.cart)),[a,r]=Object(s.useState)(c.address),[n,l]=Object(s.useState)(c.city),[d,o]=Object(s.useState)(c.postalCode),[j,h]=Object(s.useState)(c.phoneNo),[m,b]=Object(s.useState)("Vietnam"),p=Object(i.b)();return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Th\xf4ng tin v\u1eadn chuy\u1ec3n"}),Object($.jsx)(nt,{shipping:!0}),Object($.jsx)("div",{className:"row wrapper",children:Object($.jsx)("div",{className:"col-10 col-lg-5",children:Object($.jsxs)("form",{className:"shadow-lg",onSubmit:e=>{var c;e.preventDefault(),p((c={address:a,city:n,phoneNo:j,postalCode:d,country:m},async e=>{e({type:ct,payload:c}),localStorage.setItem("shippingInfo",JSON.stringify(c))})),t.push("/confirm")},children:[Object($.jsx)("h1",{className:"mb-4",children:"Th\xf4ng tin v\u1eadn chuy\u1ec3n"}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"address_field",children:"\u0110\u1ecba ch\u1ec9"}),Object($.jsx)("input",{type:"text",id:"address_field",className:"form-control",value:a,onChange:e=>r(e.target.value),required:!0})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"city_field",children:"Th\xe0nh ph\u1ed1"}),Object($.jsx)("input",{type:"text",id:"city_field",className:"form-control",value:n,onChange:e=>l(e.target.value),required:!0})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"phone_field",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object($.jsx)("input",{type:"phone",id:"phone_field",className:"form-control",value:j,onChange:e=>h(e.target.value),required:!0})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"postal_code_field",children:"M\xe3 b\u01b0u \u0111i\u1ec7n"}),Object($.jsx)("input",{type:"number",id:"postal_code_field",className:"form-control",value:d,onChange:e=>o(e.target.value),required:!0})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"country_field",children:"Qu\u1ed1c gia"}),Object($.jsx)("input",{type:"text",id:"country_field",className:"form-control",value:m,onChange:e=>b(e.target.value),required:!0,disabled:!0})]}),Object($.jsx)("button",{id:"shipping_btn",type:"submit",className:"btn btn-block py-3",children:"TI\u1ebeP T\u1ee4C"})]})})})]})};var it=e=>{let{history:t}=e;const{cartItems:c,shippingInfo:a}=Object(i.c)((e=>e.cart)),{user:r}=Object(i.c)((e=>e.auth)),l=c.reduce(((e,t)=>e+t.price*t.quantity),0),d=l>1e5?0:1e4,o=Number(.01*l),j=l+d+o;return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"X\xe1c nh\u1eadn h\xf3a \u0111\u01a1n"}),Object($.jsx)(nt,{shipping:!0,confirmOrder:!0}),Object($.jsxs)("div",{className:"row d-flex justify-content-between",children:[Object($.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-confirm",children:[Object($.jsx)("h4",{className:"mb-3",children:"Th\xf4ng tin v\u1eadn chuy\u1ec3n"}),Object($.jsxs)("p",{children:[Object($.jsx)("b",{children:"T\xean kh\xe1ch h\xe0ng:"})," ",r&&r.name]}),Object($.jsxs)("p",{children:[Object($.jsx)("b",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"})," ",a.phoneNo]}),Object($.jsxs)("p",{className:"mb-4",children:[Object($.jsx)("b",{children:"\u0110\u1ecba ch\u1ec9:"})," ","".concat(a.address,", ").concat(a.city,", ").concat(a.postalCode,", ").concat(a.country)]}),Object($.jsx)("hr",{}),Object($.jsx)("h4",{className:"mt-4",children:"C\xe1c m\u1eb7t h\xe0ng trong gi\u1ecf h\xe0ng c\u1ee7a b\u1ea1n:"}),c.map((e=>Object($.jsxs)(s.Fragment,{children:[Object($.jsx)("hr",{}),Object($.jsx)("div",{className:"cart-item my-1",children:Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-4 col-lg-2",children:Object($.jsx)("img",{src:e.image,alt:"Laptop",height:"45",width:"65"})}),Object($.jsx)("div",{className:"col-5 col-lg-6",children:Object($.jsx)(n.b,{to:"/product/".concat(e.product),children:e.name})}),Object($.jsx)("div",{className:"col-4 col-lg-4 mt-4 mt-lg-0",children:Object($.jsxs)("p",{children:[e.quantity," x ",e.price.toLocaleString(),"\u0111 = ",Object($.jsxs)("b",{children:[(e.quantity*e.price).toLocaleString(),"\u0111"]})]})})]})},e.product),Object($.jsx)("hr",{})]})))]}),Object($.jsx)("div",{className:"col-12 col-lg-3 my-4",children:Object($.jsxs)("div",{id:"order_summary",children:[Object($.jsx)("h4",{children:"T\u1ed5ng gi\xe1 tr\u1ecb \u0111\u01a1n h\xe0ng"}),Object($.jsx)("hr",{}),Object($.jsxs)("p",{children:["Th\xe0nh ti\u1ec1n:  ",Object($.jsxs)("span",{className:"order-summary-values",children:[l.toLocaleString(),"\u0111"]})]}),Object($.jsxs)("p",{children:["Ph\xed v\u1eadn chuy\u1ec3n: ",Object($.jsxs)("span",{className:"order-summary-values",children:[d.toLocaleString(),"\u0111"]})]}),Object($.jsxs)("p",{children:["Thu\u1ebf:  ",Object($.jsxs)("span",{className:"order-summary-values",children:[o.toLocaleString(),"\u0111"]})]}),Object($.jsx)("hr",{}),Object($.jsxs)("p",{children:["T\u1ed5ng ti\u1ec1n: ",Object($.jsxs)("span",{className:"order-summary-values",children:[j.toLocaleString(),"\u0111"]})]}),Object($.jsx)("hr",{}),Object($.jsx)("button",{id:"checkout_btn",className:"btn btn-primary btn-block",onClick:()=>{const e={itemsPrice:l,shippingPrice:d,taxPrice:o,totalPrice:j};sessionStorage.setItem("orderInfo",JSON.stringify(e)),t.push("/payment")},children:"Ti\u1ebfn h\xe0nh thanh to\xe1n"})]})})]})]})};const dt="CREATE_ORDER_REQUEST",ot="CREATE_ORDER_SUCCESS",jt="CREATE_ORDER_FAIL",ht="MY_ORDERS_REQUEST",mt="MY_ORDERS_SUCCESS",bt="MY_ORDERS_FAIL",pt="ALL_ORDERS_REQUEST",ut="ALL_ORDERS_SUCCESS",Ot="ALL_ORDERS_FAIL",xt="UPDATE_ORDER_REQUEST",gt="UPDATE_ORDER_SUCCESS",vt="UPDATE_ORDER_RESET",yt="UPDATE_ORDER_FAIL",Nt="ORDER_DETAILS_REQUEST",ft="ORDER_DETAILS_SUCCESS",_t="ORDER_DETAILS_FAIL",St="CLEAR_ERRORS",Et=e=>async(t,c)=>{try{t({type:dt});const c={headers:{"Content-Type":"application/json"}},{data:s}=await j.a.post("/api/v1/order/new",e,c);t({type:ot,payload:s})}catch(s){t({type:jt,payload:s.response.data.message})}},Tt=e=>async t=>{try{t({type:Nt});const{data:c}=await j.a.get("/api/v1/order/".concat(e));t({type:ft,payload:c.order})}catch(c){t({type:_t,payload:c.response.data.message})}},wt=()=>async e=>{try{e({type:pt});const{data:t}=await j.a.get("/api/v1/admin/orders");e({type:ut,payload:t})}catch(t){e({type:Ot,payload:t.response.data.message})}},Ct=()=>async e=>{e({type:St})};var Rt=c(56);const Ft={style:{base:{fontSize:"16px"},invalid:{color:"#9e2146"}}};var Dt=e=>{let{history:t}=e;const[c,a]=Object(s.useState)("online"),r=Object(d.d)(),n=Object(Rt.useStripe)(),l=Object(Rt.useElements)(),o=Object(i.b)(),{user:h}=Object(i.c)((e=>e.auth)),{cartItems:m,shippingInfo:b}=Object(i.c)((e=>e.cart)),{error:p}=Object(i.c)((e=>e.newOrder));Object(s.useEffect)((()=>{p&&(r.error(p),o(Ct()))}),[o,r,p]);const u={orderItems:m,shippingInfo:b},O=JSON.parse(sessionStorage.getItem("orderInfo"));O&&(u.itemsPrice=O.itemsPrice,u.shippingPrice=O.shippingPrice,u.taxPrice=O.taxPrice,u.totalPrice=O.totalPrice);const x={amount:Math.round(100*O.totalPrice)},g=e=>{a(e.target.value)};return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Th\xf4ng tin th\u1ebb"}),Object($.jsx)(nt,{shipping:!0,confirmOrder:!0,payment:!0}),Object($.jsx)("div",{className:"row wrapper",children:Object($.jsxs)("div",{className:"col-10 col-lg-5",children:[Object($.jsxs)("div",{className:"form-check",children:[Object($.jsx)("input",{className:"form-check-input",type:"radio",name:"selection-payment",id:"online",checked:"online"===c,value:"online",onChange:g}),Object($.jsx)("label",{className:"form-check-label",htmlFor:"online",children:"Thanh to\xe1n online"})]}),Object($.jsxs)("div",{className:"form-check",children:[Object($.jsx)("input",{className:"form-check-input",type:"radio",name:"selection-payment",id:"cod",checked:"cod"===c,value:"cod",onChange:g}),Object($.jsx)("label",{className:"form-check-label",htmlFor:"cod",children:"Thanh to\xe1n tr\u1ef1c ti\u1ebfp"})]}),"online"===c?Object($.jsxs)("form",{className:"shadow-lg",onSubmit:async e=>{let c;e.preventDefault(),document.querySelector("#pay_btn").disabled=!0;try{const e={headers:{"Content-Type":"application/json"}};c=await j.a.post("/api/v1/payment/process",x,e);const s=c.data.client_secret;if(console.log(s),!n||!l)return;const a=await n.confirmCardPayment(s,{payment_method:{card:l.getElement(Rt.CardNumberElement),billing_details:{name:h.name,email:h.email}}});a.error?(r.error(a.error.message),document.querySelector("#pay_btn").disabled=!1):"succeeded"===a.paymentIntent.status?(u.paymentInfo={id:a.paymentIntent.id,status:a.paymentIntent.status},o(Et(u)),t.push("/success")):r.error("C\xf3 m\u1ed9t s\u1ed1 v\u1ea5n \u0111\u1ec1 trong khi x\u1eed l\xfd thanh to\xe1n")}catch(p){document.querySelector("#pay_btn").disabled=!1,r.error(p.response.data.message)}},children:[Object($.jsx)("h1",{className:"mb-4",children:"Th\xf4ng tin th\u1ebb"}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"card_num_field",children:"S\u1ed1 th\u1ebb"}),Object($.jsx)(Rt.CardNumberElement,{type:"text",id:"card_num_field",className:"form-control",options:Ft})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"card_exp_field",children:"H\u1ea1n th\u1ebb"}),Object($.jsx)(Rt.CardExpiryElement,{type:"text",id:"card_exp_field",className:"form-control",options:Ft})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"card_cvc_field",children:"S\u1ed1 CVC"}),Object($.jsx)(Rt.CardCvcElement,{type:"text",id:"card_cvc_field",className:"form-control",options:Ft})]}),Object($.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Thanh to\xe1n"," "," - ".concat((O&&O.totalPrice).toLocaleString()),"\u0111"]})]}):Object($.jsx)("form",{className:"shadow-lg",onSubmit:async e=>{e.preventDefault(),u.paymentInfo={status:"\u0110\xe3 \u0111\u1eb7t h\xe0ng"},o(Et(u)),t.push("/success")},children:Object($.jsxs)("button",{id:"pay_btn",type:"submit",className:"btn btn-block py-3",children:["Thanh to\xe1n ngay"," "," - ".concat((O&&O.totalPrice).toLocaleString()),"\u0111"]})})]})})]})};var kt=()=>(localStorage.removeItem("cartItems"),setTimeout((function(){window.location="/orders/me"}),5e3),Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Ho\xe0n t\u1ea5t \u0111\u1eb7t h\xe0ng"}),Object($.jsx)("div",{className:"row justify-content-center",children:Object($.jsxs)("div",{className:"col-6 mt-5 text-center",children:[Object($.jsx)("img",{className:"my-5 img-fluid d-block mx-auto",src:"/images/order_success.png",alt:"Order Success",width:"200",height:"200"}),Object($.jsx)("h2",{children:"\u0110\u01a1n h\xe0ng c\u1ee7a b\u1ea1n \u0111\xe3 \u0111\u01b0\u1ee3c \u0111\u1eb7t th\xe0nh c\xf4ng!"}),Object($.jsx)(n.b,{to:"/orders/me",children:"T\u1ef1 \u0111\u1ed9ng chuy\u1ec3n h\u01b0\u1edbng t\u1edbi h\xf3a \u0111\u01a1n sau 5 gi\xe2y ..."})]})})]})),It=c(50);var At=()=>{const e=Object(d.d)(),t=Object(i.b)(),{loading:c,error:a,orders:r}=Object(i.c)((e=>e.myOrders));Object(s.useEffect)((()=>{t((async e=>{try{e({type:ht});const{data:t}=await j.a.get("/api/v1/orders/me");e({type:mt,payload:t.orders})}catch(a){e({type:bt,payload:a.response.data.message})}})),a&&(e.error(a),t(Ct()))}),[t,e,a]);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"\u0110\u01a1n h\xe0ng c\u1ee7a t\xf4i"}),Object($.jsx)("h1",{className:"my-5",children:"\u0110\u01a1n h\xe0ng c\u1ee7a t\xf4i"}),c?Object($.jsx)(de,{}):Object($.jsx)(It.d,{data:(()=>{const e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"S\u1ed1 l\u01b0\u1ee3ng",field:"numOfItems",sort:"asc"},{label:"T\u1ed5ng ti\u1ec1n",field:"amount",sort:"asc"},{label:"Tr\u1ea1ng th\xe1i",field:"status",sort:"asc"},{label:"H\xe0nh \u0111\u1ed9ng",field:"actions",sort:"asc"}],rows:[]};return r.forEach((t=>{e.rows.push({id:t._id,numOfItems:t.orderItems.length,amount:"".concat(t.totalPrice.toLocaleString(),"\u0111"),status:t.orderStatus&&String(t.orderStatus).includes("\u0110\xe3 giao h\xe0ng")?Object($.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object($.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object($.jsx)(n.b,{to:"/order/".concat(t._id),className:"btn btn-primary",children:Object($.jsx)("i",{className:"fa fa-eye"})})})})),e})(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})};var Ut=e=>{let{match:t}=e;const c=Object(d.d)(),a=Object(i.b)(),{loading:r,error:l,order:o={}}=Object(i.c)((e=>e.orderDetails)),{shippingInfo:j,orderItems:h,paymentInfo:m,user:b,totalPrice:p,orderStatus:u}=o;Object(s.useEffect)((()=>{a(Tt(t.params.id)),l&&(c.error(l),a(Ct()))}),[a,c,l,t.params.id]);const O=j&&"".concat(j.address,", ").concat(j.city,", ").concat(j.postalCode,", ").concat(j.country),x=!(!m||"succeeded"!==m.status);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Danh s\xe1ch \u0111\u01a1n h\xe0ng"}),r?Object($.jsx)(de,{}):Object($.jsx)(s.Fragment,{children:Object($.jsx)("div",{className:"row d-flex justify-content-between",children:Object($.jsxs)("div",{className:"col-12 col-lg-8 mt-5 order-details",children:[Object($.jsxs)("h1",{className:"my-5",children:["M\xe3 \u0111\u01a1n: ",o._id]}),Object($.jsx)("h4",{className:"mb-4",children:"Th\xf4ng tin \u0111\u1eb7t h\xe0ng"}),Object($.jsxs)("p",{children:[Object($.jsx)("b",{children:"T\xean ng\u01b0\u1eddi nh\u1eadn:"})," ",b&&b.name]}),Object($.jsxs)("p",{children:[Object($.jsx)("b",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"})," ",j&&j.phoneNo]}),Object($.jsxs)("p",{className:"mb-4",children:[Object($.jsx)("b",{children:"\u0110\u1ecba ch\u1ec9 giao:"}),O]}),Object($.jsxs)("p",{children:[Object($.jsx)("b",{children:"T\u1ed5ng ti\u1ec1n:"})," ",p,"\u0111"]}),Object($.jsx)("hr",{}),Object($.jsx)("h4",{className:"my-4",children:"Thanh to\xe1n"}),Object($.jsx)("p",{className:x?"greenColor":"redColor",children:Object($.jsx)("b",{children:x?"\u0110\xe3 thanh to\xe1n":"Ch\u01b0a thanh to\xe1n"})}),Object($.jsx)("h4",{className:"my-4",children:"T\xecnh tr\u1ea1ng \u0111\u1eb7t h\xe0ng:"}),Object($.jsx)("p",{className:o.orderStatus&&String(o.orderStatus).includes("\u0110\xe3 giao h\xe0ng")?"greenColor":"redColor",children:Object($.jsx)("b",{children:u})}),Object($.jsx)("h4",{className:"my-4",children:"S\u1ea3n ph\u1ea9m:"}),Object($.jsx)("hr",{}),Object($.jsx)("div",{className:"cart-item my-1",children:h&&h.map((e=>Object($.jsxs)("div",{className:"row my-5",children:[Object($.jsx)("div",{className:"col-4 col-lg-2",children:Object($.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object($.jsx)("div",{className:"col-5 col-lg-5",children:Object($.jsx)(n.b,{to:"/products/".concat(e.product),children:e.name})}),Object($.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object($.jsxs)("p",{children:[e.price.toLocaleString(),"\u0111"]})}),Object($.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object($.jsxs)("p",{children:[e.quantity," S\u1ea3n ph\u1ea9m"]})})]},e.product)))}),Object($.jsx)("hr",{})]})})})]})};var Pt=e=>{let{history:t,location:c}=e;const[a,r]=Object(s.useState)(""),[l,o]=Object(s.useState)(""),p=Object(d.d)(),u=Object(i.b)(),{isAuthenticated:O,error:x,loading:g}=Object(i.c)((e=>e.auth)),v=c.search?c.search.split("=")[1]:"/";Object(s.useEffect)((()=>{O&&t.push(v),x&&(p.error(x),u(Z()))}),[u,p,O,x,t,v]);return Object($.jsx)(s.Fragment,{children:g?Object($.jsx)(de,{}):Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Login"}),Object($.jsx)("div",{className:"row wrapper",children:Object($.jsx)("div",{className:"col-10 col-lg-5",children:Object($.jsxs)("form",{className:"shadow-lg",onSubmit:e=>{e.preventDefault(),u(((e,t)=>async c=>{try{c({type:h});const s={headers:{"Content-Type":"application/json"}},{data:a}=await j.a.post("/api/v1/login",{email:e,password:t},s);c({type:m,payload:a.user})}catch(x){c({type:b,payload:x.response.data.message})}})(a,l))},children:[Object($.jsx)("h1",{className:"mb-3",children:"\u0110\u0103ng Nh\u1eadp"}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object($.jsx)("input",{type:"email",id:"email_field",className:"form-control",value:a,onChange:e=>r(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"password_field",children:"M\u1eadt kh\u1ea9u"}),Object($.jsx)("input",{type:"password",id:"password_field",className:"form-control",value:l,onChange:e=>o(e.target.value)})]}),Object($.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"\u0110\u0102NG NH\u1eacP"}),Object($.jsx)(n.b,{to:"/register",className:"float-right mt-3",children:"B\u1ea1n ch\u01b0a c\xf3 t\xe0i kho\u1ea3n?"})]})})})]})})};var Lt=e=>{let{history:t}=e;const[c,a]=Object(s.useState)({name:"",email:"",password:"",address:"",phone:""}),{name:r,email:n,password:l,phone:o,address:h}=c,[m,b]=Object(s.useState)(""),[x,g]=Object(s.useState)("/images/default_avatar.jpg"),v=Object(d.d)(),y=Object(i.b)(),{isAuthenticated:N,error:f,loading:_}=Object(i.c)((e=>e.auth));Object(s.useEffect)((()=>{N&&t.push("/"),f&&(v.error(f),y(Z()))}),[y,v,N,f,t]);const S=e=>{if("avatar"===e.target.name){const t=new FileReader;t.onload=()=>{2===t.readyState&&(g(t.result),b(t.result))},t.readAsDataURL(e.target.files[0])}else a({...c,[e.target.name]:e.target.value})};return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"\u0110\u0103ng k\xfd"}),Object($.jsx)("div",{className:"row wrapper",children:Object($.jsx)("div",{className:"col-10 col-lg-5",children:Object($.jsxs)("form",{className:"shadow-lg",onSubmit:e=>{e.preventDefault();const t=new FormData;var c;t.set("name",r),t.set("email",n),t.set("password",l),t.set("avatar",m),t.set("phone",o),t.set("address",h),y((c=t,async e=>{try{e({type:p});const t={headers:{"Content-Type":"multipart/form-data"}},{data:s}=await j.a.post("/api/v1/register",c,t);e({type:u,payload:s.user})}catch(f){e({type:O,payload:f.response.data.message})}}))},encType:"multipart/form-data",children:[Object($.jsx)("h1",{className:"mb-3",children:"\u0110\u0103ng k\xfd"}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"email_field",children:"T\xean"}),Object($.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:r,onChange:S})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"phone_field",children:"S\u1ed1 \u0110i\u1ec7n Tho\u1ea1i"}),Object($.jsx)("input",{type:"number",id:"phone_field",className:"form-control",name:"phone",value:o,onChange:S})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object($.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:n,onChange:S})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"password_field",children:"M\u1eadt kh\u1ea9u"}),Object($.jsx)("input",{type:"password",id:"password_field",className:"form-control",name:"password",value:l,onChange:S})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"address_field",children:"\u0110\u1ecba ch\u1ec9 "}),Object($.jsx)("input",{type:"text",id:"address_field",className:"form-control",name:"address",value:h,onChange:S})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"avatar_upload",children:"H\xecnh n\u1ec1n"}),Object($.jsxs)("div",{className:"d-flex align-items-center",children:[Object($.jsx)("div",{children:Object($.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object($.jsx)("img",{src:x,className:"rounded-circle",alt:"\u1ea2nh n\u1ec1n"})})}),Object($.jsxs)("div",{className:"custom-file",children:[Object($.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"iamges/*",onChange:S}),Object($.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Ch\u1ecdn \u1ea3nh"})]})]})]}),_?Object($.jsx)(de,{}):Object($.jsx)("button",{id:"register_button",type:"submit",className:"btn btn-block py-3",disabled:!!_,children:"\u0110\u0102NG K\xdd"})]})})})]})};var Gt=()=>{const{user:e,loading:t}=Object(i.c)((e=>e.auth));return console.log(e),Object($.jsx)(s.Fragment,{children:t?Object($.jsx)(de,{}):Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Th\xf4ng tin c\xe1 nh\xe2n"}),Object($.jsx)("h2",{className:"mt-5 ml-5",children:"Th\xf4ng tin c\xe1 nh\xe2n"}),Object($.jsxs)("div",{className:"row justify-content-around mt-5 user-info",children:[Object($.jsxs)("div",{className:"col-12 col-md-3",children:[Object($.jsx)("figure",{className:"avatar avatar-profile",children:Object($.jsx)("img",{className:"rounded-circle img-fluid",src:e.avatar.url,alt:e.name})}),Object($.jsx)(n.b,{to:"/me/update",id:"edit_profile",className:"btn btn-primary btn-block my-5",children:"S\u1eeda th\xf4ng tin"})]}),Object($.jsxs)("div",{className:"col-12 col-md-5",children:[Object($.jsx)("h4",{children:"H\u1ecd v\xe0 T\xean"}),Object($.jsx)("p",{children:e.name}),Object($.jsx)("h4",{children:"Email"}),Object($.jsx)("p",{children:e.email}),Object($.jsx)("h4",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object($.jsx)("p",{children:e.phone}),Object($.jsx)("h4",{children:"\u0110\u1ecba ch\u1ec9"}),Object($.jsx)("p",{children:e.address}),Object($.jsx)("h4",{children:"Ng\xe0y tham gia"}),Object($.jsx)("p",{children:String(e.createdAt).substring(0,10)}),"admin"!==e.role&&Object($.jsx)(n.b,{to:"/orders/me",className:"btn btn-danger btn-block mt-5",children:"\u0110\u01a1n h\xe0ng"}),Object($.jsx)(n.b,{to:"/password/update",className:"btn btn-primary btn-block mt-3",children:"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u"})]})]})]})})};var Mt=e=>{let{history:t}=e;const[c,a]=Object(s.useState)(""),[r,n]=Object(s.useState)(""),[l,o]=Object(s.useState)(""),[h,m]=Object(s.useState)(""),[b,p]=Object(s.useState)(""),[u,O]=Object(s.useState)("/images/default_avatar.jpg"),x=Object(d.d)(),g=Object(i.b)(),{user:v}=Object(i.c)((e=>e.auth)),{error:S,isUpdated:E,loading:T}=Object(i.c)((e=>e.user));Object(s.useEffect)((()=>{v&&(a(v.name),n(v.email),o(v.phone),m(v.address),O(v.avatar.url)),S&&(x.error(S),g(Z())),E&&(x.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng"),g(X()),t.push("/me"),g({type:f}))}),[g,x,S,t,E,v]);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"S\u1eeda th\xf4ng tin c\xe1 nh\xe2n"}),Object($.jsx)("div",{className:"row wrapper",children:Object($.jsx)("div",{className:"col-10 col-lg-5",children:Object($.jsxs)("form",{className:"shadow-lg",onSubmit:e=>{e.preventDefault();const t=new FormData;var s;t.set("name",c),t.set("email",r),t.set("avatar",b),t.set("phone",l),t.set("address",h),g((s=t,async e=>{try{e({type:y});const t={headers:{"Content-Type":"multipart/form-data"}},{data:c}=await j.a.put("/api/v1/me/update",s,t);e({type:N,payload:c.success})}catch(S){e({type:_,payload:S.response.data.message})}}))},encType:"multipart/form-data",children:[Object($.jsx)("h1",{className:"mt-2 mb-5",children:"S\u1eeda th\xf4ng tin c\xe1 nh\xe2n"}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"email_field",children:"T\xean"}),Object($.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:c,onChange:e=>a(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object($.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:r,onChange:e=>n(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"Phone_field",children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i"}),Object($.jsx)("input",{type:"Number",id:"phone_field",className:"form-control",name:"phone",value:l,onChange:e=>o(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"address_field",children:"\u0110\u1ecba ch\u1ec9"}),Object($.jsx)("input",{type:"text",id:"address_field",className:"form-control",name:"address",value:h,onChange:e=>m(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"avatar_upload",children:"\u1ea2nh \u0111\u1ea1i di\u1ec7n"}),Object($.jsxs)("div",{className:"d-flex align-items-center",children:[Object($.jsx)("div",{children:Object($.jsx)("figure",{className:"avatar mr-3 item-rtl",children:Object($.jsx)("img",{src:u,className:"rounded-circle",alt:"Avatar Preview"})})}),Object($.jsxs)("div",{className:"custom-file",children:[Object($.jsx)("input",{type:"file",name:"avatar",className:"custom-file-input",id:"customFile",accept:"image/*",onChange:e=>{const t=new FileReader;t.onload=()=>{2===t.readyState&&(O(t.result),p(t.result))},t.readAsDataURL(e.target.files[0])}}),Object($.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Ch\u1ecdn \u1ea3nh"})]})]})]}),Object($.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!T,children:"X\xe1c nh\u1eadn"})]})})})]})};var Ht=e=>{let{history:t}=e;const[c,a]=Object(s.useState)(""),[r,n]=Object(s.useState)(""),l=Object(d.d)(),o=Object(i.b)(),{error:h,isUpdated:m,loading:b}=Object(i.c)((e=>e.user));Object(s.useEffect)((()=>{h&&(l.error(h),o(Z())),m&&(l.success("C\u1eadp nh\u1eadt m\u1eadt kh\u1ea9u th\xe0nh c\xf4ng"),t.push("/me"),o({type:T}))}),[o,l,h,t,m]);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Change Password"}),Object($.jsx)("div",{className:"row wrapper",children:Object($.jsx)("div",{className:"col-10 col-lg-5",children:Object($.jsxs)("form",{className:"shadow-lg",onSubmit:e=>{e.preventDefault();const t=new FormData;var s;t.set("oldPassword",c),t.set("password",r),o((s=t,async e=>{try{e({type:S});const t={headers:{"Content-Type":"application/json"}},{data:c}=await j.a.put("/api/v1/password/update",s,t);e({type:E,payload:c.success})}catch(h){e({type:w,payload:h.response.data.message})}}))},children:[Object($.jsx)("h1",{className:"mt-2 mb-5",children:"Thay \u0111\u1ed5i m\u1eadt kh\u1ea9u"}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{for:"old_password_field",children:"M\u1eadt kh\u1ea9u c\u0169:"}),Object($.jsx)("input",{type:"password",id:"old_password_field",className:"form-control",value:c,onChange:e=>a(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{for:"new_password_field",children:"M\u1eadt kh\u1ea9u m\u1edbi:"}),Object($.jsx)("input",{type:"password",id:"new_password_field",className:"form-control",value:r,onChange:e=>n(e.target.value)})]}),Object($.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",disabled:!!b,children:"X\xe1c nh\u1eadn"})]})})})]})};var Wt=()=>Object($.jsx)("div",{className:"sidebar-wrapper",children:Object($.jsx)("nav",{id:"sidebar",children:Object($.jsxs)("ul",{className:"list-unstyled components",children:[Object($.jsx)("li",{children:Object($.jsxs)(n.b,{to:"/dashboard",children:[Object($.jsx)("i",{className:"fa fa-tachometer"})," T\u1ed5ng quan"]})}),Object($.jsx)("li",{children:Object($.jsxs)(n.b,{to:"/admin/products",children:[Object($.jsx)("i",{className:"fa fa-product-hunt"})," Qu\u1ea3n l\xfd s\u1ea3n ph\u1ea9m"]})}),Object($.jsx)("li",{children:Object($.jsxs)(n.b,{to:"/admin/orders",children:[Object($.jsx)("i",{className:"fa fa-shopping-basket"})," Qu\u1ea3n l\xfd \u0111\u01a1n h\xe0ng"]})}),Object($.jsx)("li",{children:Object($.jsxs)(n.b,{to:"/admin/users",children:[Object($.jsx)("i",{className:"fa fa-users"})," Qu\u1ea3n l\xfd ng\u01b0\u1eddi d\xf9ng"]})}),Object($.jsx)("li",{children:Object($.jsxs)(n.b,{to:"/admin/reviews",children:[Object($.jsx)("i",{className:"fa fa-star"})," Qu\u1ea3n l\xfd b\xecnh lu\u1eadn"]})})]})})});var Qt=e=>{let{history:t,match:c}=e;const[a,r]=Object(s.useState)(""),[n,l]=Object(s.useState)(""),[o,j]=Object(s.useState)(""),h=Object(d.d)(),m=Object(i.b)(),{error:b,isUpdated:p}=Object(i.c)((e=>e.user)),{user:u}=Object(i.c)((e=>e.userDetails)),O=c.params.id;Object(s.useEffect)((()=>{console.log(u&&u._id!==O),u&&u._id!==O?m(Y(O)):(r(u.name),l(u.email),j(u.role)),b&&(h.error(b),m(Z())),p&&(h.success("Kh\xf3a t\xe0i kho\u1ea3n th\xe0nh c\xf4ng!"),t.push("/admin/users"),m({type:Q}))}),[m,h,b,t,p,O,u]);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Update User"}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-12 col-md-2",children:Object($.jsx)(Wt,{})}),Object($.jsx)("div",{className:"col-12 col-md-10",children:Object($.jsx)("div",{className:"row wrapper",children:Object($.jsx)("div",{className:"col-10 col-lg-5",children:Object($.jsxs)("form",{className:"shadow-lg",onSubmit:e=>{e.preventDefault();const t=new FormData;t.set("name",a),t.set("email",n),t.set("role",o),m(J(u._id,t))},children:[Object($.jsx)("h1",{className:"mt-2 mb-5",children:"KH\xd3A T\xc0I KHO\u1ea2N"}),Object($.jsx)("img",{className:"img_look container",src:"https://us.123rf.com/450wm/yupiramos/yupiramos1709/yupiramos170901899/85031041-viejo-dise%C3%B1o-aislado-clave-del-ejemplo-del-vector-del-icono.jpg?ver=6",alt:""}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object($.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:n,onChange:e=>l(e.target.value),disabled:!0})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"role_field",children:"Quy\u1ec1n"}),Object($.jsxs)("select",{id:"role_field",className:"form-control",name:"role",value:"look",onChange:e=>j(e.target.value),children:[Object($.jsx)("option",{value:"look",children:"Kh\xf3a t\xe0i kho\u1ea3n"}),Object($.jsx)("option",{value:"look",children:"Kh\xf3a t\xe0i kho\u1ea3n"})]})]}),Object($.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",children:"Kh\xf3a t\xe0i kho\u1ea3n"})]})})})})]})]})},Vt=c(97),Bt=c(624),qt=c(627),Kt=c(323),Xt=c(322),zt=c(98),Jt=c(625);function Yt(e){let{title:t,data:c,dataKey:s,grid:a}=e;return Object($.jsxs)("div",{className:"chart",children:[Object($.jsx)("h3",{className:"chartTitle",children:t}),Object($.jsx)(Bt.a,{width:"100%",aspect:4,children:Object($.jsxs)(qt.a,{data:c,children:[Object($.jsx)(Kt.a,{dataKey:"name",stroke:"#5550bd"}),Object($.jsx)(Xt.a,{type:"monotone",dataKey:s,stroke:"#5550bd"}),Object($.jsx)(zt.a,{}),a&&Object($.jsx)(Jt.a,{stroke:"#e0dfdf",strokeDasharray:"5 5"})]})})]})}function Zt(){const[e,t]=Object(s.useState)([]),c=Object(s.useMemo)((()=>["Th\xe1ng 1","Th\xe1ng 2","Th\xe1ng 3","Th\xe1ng 4","Th\xe1ng 5","Th\xe1ng 6","Th\xe1ng 7","Th\xe1ng 8","Th\xe1ng 9","Th\xe1ng 10","Th\xe1ng 11","Th\xe1ng 12"]),[]);return Object(s.useEffect)((()=>{(async()=>{try{(await j.a.get("/api/v1/admin/orders/income")).data.map((e=>t((t=>[...t,{name:c[e._id-1],"Danh thu":e.total}]))))}catch{}})()}),[c]),Object($.jsx)("div",{children:Object($.jsx)(Yt,{data:e,title:"Danh thu h\xe0ng th\xe1ng",grid:!0,dataKey:"Danh thu"})})}var $t=()=>{const e=Object(i.b)(),{products:t}=Object(i.c)((e=>e.products)),{users:c}=Object(i.c)((e=>e.allUsers)),{orders:a,totalAmount:r,loading:l}=Object(i.c)((e=>e.allOrders));let d=0;t.forEach((e=>{0===e.stock&&(d+=1)}));let o=0,j=0,h=0;a&&a.forEach((e=>{"\u0110\xe3 \u0111\u1eb7t h\xe0ng"===e.orderStatus&&(o+=1),"\u0110ang v\u1eadn chuy\u1ec3n"===e.orderStatus&&(j+=1),"\u0110\xe3 giao h\xe0ng"===e.orderStatus&&(h+=1)})),Object(s.useEffect)((()=>{e(Ve()),e(wt()),e(z())}),[e]);let m=0;a&&a.forEach((e=>{m+=e.totalPrice}));const b={labels:["S\u1ed1 ti\u1ec1n ban \u0111\u1ea7u","T\u1ed5ng danh thu hi\u1ec7n t\u1ea1i"],datasets:[{label:"T\u1ed4NG DANH THU",backgroundColor:["blue"],hoverBackgroundColor:["rgb(197, 72, 49)"],data:[0,m]}]},p={labels:["H\u1ebft h\xe0ng","C\xf2n h\xe0ng"],datasets:[{backgroundColor:["#00A6B4","#6800B4"],hoverBackgroundColor:["#FF1493","#FFD700"],data:[d,t.length-d]}]},u={labels:["\u0110\xe3 \u0111\u1eb7t h\xe0ng","\u0110ang v\u1eadn chuy\u1ec3n","\u0110\xe3 giao h\xe0ng"],datasets:[{backgroundColor:["#00A6B4","#6800B4","#FF7F50"],hoverBackgroundColor:["#FF1493","#00FA9A","#FFD700"],data:[o,j,h]}]};let O=0,x=0,g=0,v=0,y=0,N=0,f=0;t&&t.forEach((e=>{"Th\u1ef1c ph\u1ea9m Kh\xf4 - Gia V\u1ecb"===e.category&&(O+=1),"Rau-C\u1ee7-Tr\xe1i c\xe2y"===e.category&&(y+=1),"\u0110\u1ed3 u\u1ed1ng - Gi\u1ea3i kh\xe1t"===e.category&&(f+=1),"B\xe1nh k\u1eb9o - \u0110\u1ed3 \u0103n v\u1eb7t"===e.category&&(N+=1),"Th\u1ef1c ph\u1ea9m ch\u1ebf bi\u1ebfn"===e.category&&(g+=1),"Th\u1ecbt-Tr\u1ee9ng-H\u1ea3i s\u1ea3n"===e.category&&(v+=1),"Th\u1ef1c ph\u1ea9m \u0111\xf4ng l\u1ea1nh"===e.category&&(x+=1)}));const _={labels:["Th\u1ef1c ph\u1ea9m kh\xf4 - Gia v\u1ecb","Th\u1ef1c ph\u1ea9m \u0111\xf4ng l\u1ea1nh","Th\u1ef1c ph\u1ea9m ch\u1ebf bi\u1ebfn","Th\u1ecbt - Tr\u1ee9ng - H\u1ea3i s\u1ea3n","Rau - C\u1ee7 - Tr\xe1i c\xe2y","B\xe1nh k\u1eb9o - \u0110\u1ed3 \u0103n v\u1eb7t","\u0110\u1ed3 u\u1ed1ng - Gi\u1ea3i kh\xe1t"],datasets:[{label:"Danh m\u1ee5c s\u1ea3n ph\u1ea9m",data:[O,x,g,v,y,N,f],fill:!0,backgroundColor:"rgba(54, 162, 235, 0.2)",borderColor:"rgb(54, 162, 235)",pointBackgroundColor:"rgb(54, 162, 235)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgb(54, 162, 235)"}]};return Object($.jsx)(s.Fragment,{children:Object($.jsx)("div",{class:"grid-bg ba-grid anim",children:Object($.jsx)("div",{class:"inner",children:Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-12 col-md-2",children:Object($.jsx)(Wt,{})}),Object($.jsxs)("div",{className:"col-12 col-md-10",children:[Object($.jsx)("h1",{className:"my-4",children:"T\u1ed5ng quan"}),l?Object($.jsx)(de,{}):Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Admin Dashboard"}),Object($.jsxs)("div",{className:"row pr-4",children:[Object($.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object($.jsxs)("div",{className:"card text-white bg-primary o-hidden h-100",children:[Object($.jsx)("div",{className:"card-body",children:Object($.jsxs)("div",{className:"text-center card-font-size",children:["T\u1ed5ng danh thu",Object($.jsx)("br",{})," ",Object($.jsxs)("b",{children:[r&&r.toLocaleString()," VN\u0110"]})]})}),Object($.jsxs)(n.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object($.jsx)("span",{className:"float-left",children:"Xem chi ti\u1ebft"}),Object($.jsx)("span",{className:"float-right",children:Object($.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object($.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object($.jsxs)("div",{className:"card text-white bg-success o-hidden h-100",children:[Object($.jsx)("div",{className:"card-body",children:Object($.jsxs)("div",{className:"text-center card-font-size",children:["T\u1ed5ng s\u1ea3n ph\u1ea9m",Object($.jsx)("br",{})," ",Object($.jsx)("b",{children:t&&t.length})]})}),Object($.jsxs)(n.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/products",children:[Object($.jsx)("span",{className:"float-left",children:"Xem chi ti\u1ebft"}),Object($.jsx)("span",{className:"float-right",children:Object($.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object($.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object($.jsxs)("div",{className:"card text-white bg-danger o-hidden h-100",children:[Object($.jsx)("div",{className:"card-body",children:Object($.jsxs)("div",{className:"text-center card-font-size",children:["T\u1ed5ng h\xf3a \u0111\u01a1n",Object($.jsx)("br",{})," ",Object($.jsx)("b",{children:a&&a.length})]})}),Object($.jsxs)(n.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/orders",children:[Object($.jsx)("span",{className:"float-left",children:"Xem chi ti\u1ebft"}),Object($.jsx)("span",{className:"float-right",children:Object($.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object($.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object($.jsxs)("div",{className:"card text-white bg-info o-hidden h-100",children:[Object($.jsx)("div",{className:"card-body",children:Object($.jsxs)("div",{className:"text-center card-font-size",children:["T\u1ed5ng ng\u01b0\u1eddi d\xf9ng",Object($.jsx)("br",{})," ",Object($.jsx)("b",{children:c&&c.length})]})}),Object($.jsxs)(n.b,{className:"card-footer text-white clearfix small z-1",to:"/admin/users",children:[Object($.jsx)("span",{className:"float-left",children:"Xem chi ti\u1ebft"}),Object($.jsx)("span",{className:"float-right",children:Object($.jsx)("i",{className:"fa fa-angle-right"})})]})]})}),Object($.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object($.jsx)("div",{className:"card text-white bg-light o-hidden h-100",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h6",{className:"text-dark",children:"T\xecnh tr\u1ea1ng s\u1ed1 l\u01b0\u1ee3ng h\xe0ng"}),Object($.jsx)("div",{className:"doughnutChart",children:Object($.jsx)(Vt.a,{data:p})})]})})}),Object($.jsx)("div",{className:"col-xl-3 col-sm-6 mb-3",children:Object($.jsx)("div",{className:"card text-white bg-light o-hidden h-100",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h6",{className:"text-dark",children:"T\xecnh tr\u1ea1ng \u0111\u01a1n h\xe0ng"}),Object($.jsx)("div",{className:"doughnutChart",children:Object($.jsx)(Vt.a,{data:u})})]})})}),Object($.jsx)("div",{className:"col-xl-6 col-sm-12 mb-3",children:Object($.jsx)("div",{className:"card text-white bg-light o-hidden h-100",children:Object($.jsxs)("div",{className:"card-body",children:[Object($.jsx)("h6",{className:"text-dark",children:"T\u1ed5ng doanh thu"}),Object($.jsx)("div",{className:"lineChart",children:Object($.jsx)(Vt.b,{data:b})})]})})})]})]}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-md-6",children:Object($.jsx)(Zt,{})}),Object($.jsx)("div",{className:"radar col-md-5 card text-white bg-light",children:Object($.jsx)(Vt.c,{data:_})})]})]})]})})})})};var ec=e=>{let{history:t}=e;const c=Object(d.d)(),a=Object(i.b)(),{loading:r,error:l,products:o}=Object(i.c)((e=>e.products)),{error:h,isDeleted:m}=Object(i.c)((e=>e.product));Object(s.useEffect)((()=>{a(Ve()),l&&(c.error(l),a(qe())),h&&(c.error(h),a(qe())),m&&(c.success("Product deleted successfully"),t.push("/admin/products"),a({type:Ne}))}),[a,c,l,h,m,t]);const b=e=>{a((e=>async t=>{try{t({type:ve});const{data:c}=await j.a.delete("/api/v1/admin/product/".concat(e));t({type:ye,payload:c.success})}catch(l){t({type:fe,payload:l.response.data.message})}})(e))};return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"T\u1ea5t c\u1ea3 s\u1ea3n ph\u1ea9m"}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-12 col-md-2",children:Object($.jsx)(Wt,{})}),Object($.jsx)("div",{className:"col-12 col-md-10",children:Object($.jsxs)(s.Fragment,{children:[Object($.jsx)("h1",{className:"my-5",children:"T\u1ea5t c\u1ea3 s\u1ea3n ph\u1ea9m"}),Object($.jsx)(n.b,{to:"/admin/product",children:Object($.jsx)("button",{type:"button",className:"btn btn-primary",children:"Th\xeam s\u1ea3n ph\u1ea9m m\u1edbi"})}),r?Object($.jsx)(de,{}):Object($.jsx)(It.c,{data:(()=>{const e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"T\xean s\u1ea3n ph\u1ea9m",field:"name",sort:"asc"},{label:"Gi\xe1",field:"price",sort:"asc"},{label:"S\u1ed1 l\u01b0\u1ee3ng c\xf2n l\u1ea1i",field:"stock",sort:"asc"},{label:"H\xe0nh \u0111\u1ed9ng",field:"actions"}],rows:[]};return o.forEach((t=>{e.rows.push({id:t._id,name:t.name,price:"".concat(t.price.toLocaleString()," VN\u0110"),stock:t.stock,actions:Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(n.b,{to:"/admin/product/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object($.jsx)("i",{className:"fa fa-pencil"})}),Object($.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2","data-toggle":"modal","data-target":"#exampleModal",children:Object($.jsx)("i",{className:"fa fa-trash"})}),Object($.jsx)("div",{children:Object($.jsx)("div",{className:"modal fade",id:"exampleModal",tabIndex:-1,role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",children:Object($.jsx)("div",{className:"modal-dialog",role:"document",children:Object($.jsxs)("div",{className:"modal-content",children:[Object($.jsxs)("div",{className:"modal-header",children:[Object($.jsx)("h5",{className:"modal-title",id:"exampleModalLabel",children:"Th\xf4ng b\xe1o!"}),Object($.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",children:Object($.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object($.jsx)("div",{class:"modal-body",children:"B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng"}),Object($.jsxs)("div",{className:"modal-footer",children:[Object($.jsx)("button",{type:"button",className:"btn btn-secondary","data-dismiss":"modal",children:"H\u1ee7y"}),Object($.jsx)("button",{type:"button",className:"btn btn-danger",onClick:()=>b(t._id),"data-dismiss":"modal",children:"X\xf3a"})]})]})})})})]})})})),e})(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})};var tc=e=>{let{history:t}=e;const[c,a]=Object(s.useState)(""),[r,n]=Object(s.useState)(0),[l,o]=Object(s.useState)(""),[h,m]=Object(s.useState)(""),[b,p]=Object(s.useState)(0),[u,O]=Object(s.useState)(""),[x,g]=Object(s.useState)([]),[v,y]=Object(s.useState)([]),N=Object(d.d)(),f=Object(i.b)(),{error:_,success:S}=Object(i.c)((e=>e.newProduct));Object(s.useEffect)((()=>{_&&(N.error(_),f(qe())),S&&(t.push("/admin/products"),N.success("Th\xeam s\u1ea3n ph\u1ea9m th\xe0nh c\xf4ng"),f({type:xe}))}),[f,N,_,S,t]);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Th\xeam s\u1ea3n ph\u1ea9m m\u1edbi"}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-12 col-md-2",children:Object($.jsx)(Wt,{})}),Object($.jsx)("div",{className:"col-12 col-md-10",children:Object($.jsx)(s.Fragment,{children:Object($.jsx)("div",{className:"wrapper my-5",children:Object($.jsxs)("form",{className:"shadow-lg",onSubmit:e=>{e.preventDefault();const t=new FormData;var s;t.set("name",c),t.set("price",r),t.set("description",l),t.set("category",h),t.set("stock",b),t.set("seller",u),x.forEach((e=>{t.append("images",e)})),f((s=t,async e=>{try{e({type:ue});const t={headers:{"Content-Type":"application/json"}},{data:c}=await j.a.post("/api/v1/admin/product/new",s,t);e({type:Oe,payload:c})}catch(_){e({type:ge,payload:_.response.data.message})}}))},encType:"multipart/form-data",children:[Object($.jsx)("h1",{className:"mb-4",children:"Th\xeam s\u1ea3n ph\u1ea9m m\u1edbi"}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"name_field",children:"T\xean s\u1ea3n ph\u1ea9m"}),Object($.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:c,onChange:e=>a(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"price_field",children:"Gi\xe1"}),Object($.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:r,onChange:e=>n(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"description_field",children:"M\xf4 t\u1ea3"}),Object($.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:l,onChange:e=>o(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"category_field",children:"Danh m\u1ee5c"}),Object($.jsx)("select",{className:"form-control",id:"category_field",value:h,onChange:e=>m(e.target.value),children:["Rau-C\u1ee7-Tr\xe1i c\xe2y","Rau-C\u1ee7-Tr\xe1i c\xe2y","Th\u1ecbt-Tr\u1ee9ng-H\u1ea3i s\u1ea3n","Th\u1ef1c ph\u1ea9m ch\u1ebf bi\u1ebfn","Th\u1ef1c ph\u1ea9m \u0111\xf4ng l\u1ea1nh","Th\u1ef1c ph\u1ea9m Kh\xf4 - Gia V\u1ecb","B\xe1nh k\u1eb9o - \u0110\u1ed3 \u0103n v\u1eb7t","S\u1eefa - S\u1ea3n ph\u1ea9m t\u1eeb s\u1eefa","\u0110\u1ed3 u\u1ed1ng - Gi\u1ea3i kh\xe1t","H\xf3a M\u1ef9 ph\u1ea9m","Ch\u0103m s\xf3c c\xe1 nh\xe2n","Ch\u0103m s\xf3c m\u1eb9 v\xe0 b\xe9","Th\u1ec3 thao"].map((e=>Object($.jsx)("option",{value:e,children:e},e)))})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"stock_field",children:"S\u1ed1 l\u01b0\u1ee3ng t\u1ed3n"}),Object($.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:b,onChange:e=>p(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"seller_field",children:"Nh\xe0 s\u1ea3n xu\u1ea5t"}),Object($.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:u,onChange:e=>O(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{children:"H\xecnh s\u1ea3n ph\u1ea9m"}),Object($.jsxs)("div",{className:"custom-file",children:[Object($.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:e=>{const t=Array.from(e.target.files);y([]),g([]),t.forEach((e=>{const t=new FileReader;t.onload=()=>{2===t.readyState&&(y((e=>[...e,t.result])),g((e=>[...e,t.result])))},t.readAsDataURL(e)}))},multiple:!0}),Object($.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Ch\u1ecdn h\xecnh"})]}),v.map((e=>Object($.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)))]}),Object($.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",children:"Th\xeam m\u1edbi"})]})})})})]})]})};var cc=e=>{let{match:t,history:c}=e;const[a,r]=Object(s.useState)(""),[n,l]=Object(s.useState)(0),[o,h]=Object(s.useState)(""),[m,b]=Object(s.useState)(""),[p,u]=Object(s.useState)(0),[O,x]=Object(s.useState)(""),[g,v]=Object(s.useState)([]),[y,N]=Object(s.useState)([]),[f,_]=Object(s.useState)([]),S=Object(d.d)(),E=Object(i.b)(),{error:T,product:w}=Object(i.c)((e=>e.productDetails)),{loading:C,error:R,isUpdated:F}=Object(i.c)((e=>e.product)),D=t.params.id;Object(s.useEffect)((()=>{w&&w._id!==D?E(Qe(D)):(r(w.name),l(w.price),h(w.description),b(w.category),x(w.seller),u(w.stock),N(w.images)),T&&(S.error(T),E(qe())),R&&(S.error(R),E(qe())),F&&(c.push("/admin/products"),S.success("Product updated successfully"),E({type:Ee}))}),[E,S,T,F,c,R,w,D]);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Update Product"}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-12 col-md-2",children:Object($.jsx)(Wt,{})}),Object($.jsx)("div",{className:"col-12 col-md-10",children:Object($.jsx)(s.Fragment,{children:Object($.jsx)("div",{className:"wrapper my-5",children:Object($.jsxs)("form",{className:"shadow-lg",onSubmit:e=>{e.preventDefault();const t=new FormData;var c,s;t.set("name",a),t.set("price",n),t.set("description",o),t.set("category",m),t.set("stock",p),t.set("seller",O),g.forEach((e=>{t.append("images",e)})),E((c=w._id,s=t,async e=>{try{e({type:_e});const t={headers:{"Content-Type":"application/json"}},{data:a}=await j.a.put("/api/v1/admin/product/".concat(c),s,t);e({type:Se,payload:a.success})}catch(T){e({type:Te,payload:T.response.data.message})}}))},encType:"multipart/form-data",children:[Object($.jsx)("h1",{className:"mb-4",children:"C\u1eadp nh\u1eadt s\u1ea3n ph\u1ea9m"}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"name_field",children:"T\xean s\u1ea3n ph\u1ea9m"}),Object($.jsx)("input",{type:"text",id:"name_field",className:"form-control",value:a,onChange:e=>r(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"price_field",children:"Gi\xe1"}),Object($.jsx)("input",{type:"text",id:"price_field",className:"form-control",value:n,onChange:e=>l(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"description_field",children:"M\xf4 t\u1ea3"}),Object($.jsx)("textarea",{className:"form-control",id:"description_field",rows:"8",value:o,onChange:e=>h(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"category_field",children:"Danh m\u1ee5c"}),Object($.jsx)("select",{className:"form-control",id:"category_field",value:m,onChange:e=>b(e.target.value),children:["Rau-C\u1ee7-Tr\xe1i c\xe2y","Rau-C\u1ee7-Tr\xe1i c\xe2y","Th\u1ecbt-Tr\u1ee9ng-H\u1ea3i s\u1ea3n","Th\u1ef1c ph\u1ea9m ch\u1ebf bi\u1ebfn","Th\u1ef1c ph\u1ea9m \u0111\xf4ng l\u1ea1nh","Th\u1ef1c ph\u1ea9m Kh\xf4 - Gia V\u1ecb","B\xe1nh k\u1eb9o - \u0110\u1ed3 \u0103n v\u1eb7t","S\u1eefa - S\u1ea3n ph\u1ea9m t\u1eeb s\u1eefa","\u0110\u1ed3 u\u1ed1ng - Gi\u1ea3i kh\xe1t","H\xf3a M\u1ef9 ph\u1ea9m","Ch\u0103m s\xf3c c\xe1 nh\xe2n","Ch\u0103m s\xf3c m\u1eb9 v\xe0 b\xe9","Th\u1ec3 thao"].map((e=>Object($.jsx)("option",{value:e,children:e},e)))})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"stock_field",children:"S\u1ed1 l\u01b0\u1ee3ng"}),Object($.jsx)("input",{type:"number",id:"stock_field",className:"form-control",value:p,onChange:e=>u(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"seller_field",children:"Xu\u1ea5t x\u1ee9"}),Object($.jsx)("input",{type:"text",id:"seller_field",className:"form-control",value:O,onChange:e=>x(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{children:"\u1ea2nh"}),Object($.jsxs)("div",{className:"custom-file",children:[Object($.jsx)("input",{type:"file",name:"product_images",className:"custom-file-input",id:"customFile",onChange:e=>{const t=Array.from(e.target.files);_([]),v([]),N([]),t.forEach((e=>{const t=new FileReader;t.onload=()=>{2===t.readyState&&(_((e=>[...e,t.result])),v((e=>[...e,t.result])))},t.readAsDataURL(e)}))},multiple:!0}),Object($.jsx)("label",{className:"custom-file-label",htmlFor:"customFile",children:"Ch\u1ecdn h\xecnh"})]}),y&&y.map((e=>Object($.jsx)("img",{src:e.url,alt:e.url,className:"mt-3 mr-2",width:"55",height:"52"},e))),f.map((e=>Object($.jsx)("img",{src:e,alt:"Images Preview",className:"mt-3 mr-2",width:"55",height:"52"},e)))]}),Object($.jsx)("button",{id:"login_button",type:"submit",className:"btn btn-block py-3",disabled:!!C,children:"C\u1eadp nh\u1eadt"})]})})})})]})]})};var sc=e=>{let{history:t}=e;const c=Object(d.d)(),a=Object(i.b)(),{loading:r,error:l,orders:o}=Object(i.c)((e=>e.allOrders)),{isDeleted:j}=Object(i.c)((e=>e.order));Object(s.useEffect)((()=>{a(wt()),l&&(c.error(l),a(Ct())),j&&(c.success("X\xf3a h\xf3a \u0111\u01a1n th\xe0nh c\xf4ng"),t.push("/admin/orders"),a({type:"DELETE_ORDER_RESET"}))}),[a,c,l,j,t]);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"All Orders"}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-12 col-md-2",children:Object($.jsx)(Wt,{})}),Object($.jsx)("div",{className:"col-12 col-md-10",children:Object($.jsxs)(s.Fragment,{children:[Object($.jsx)("h1",{className:"my-5",children:"T\u1ea5t c\u1ea3 \u0111\u01a1n h\xe0ng"}),r?Object($.jsx)(de,{}):Object($.jsx)(It.c,{data:(()=>{const e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"S\u1ed1 m\u1eb7t h\xe0ng",field:"numofItems",sort:"asc"},{label:"T\u1ed5ng ti\u1ec1n",field:"amount",sort:"asc"},{label:"Ng\xe0y t\u1ea1o h\xf3a \u0111\u01a1n",field:"createdAt",sort:"asc"},{label:"Tr\u1ea1ng th\xe1i",field:"status",sort:"asc"},{label:"H\xe0nh \u0111\u1ed9ng",field:"actions"}],rows:[]};return o.forEach((t=>{e.rows.push({id:t._id,numofItems:t.orderItems.length,amount:"".concat(t.totalPrice," VN\u0110"),createdAt:t.createdAt,status:t.orderStatus&&String(t.orderStatus).includes("\u0110\xe3 giao h\xe0ng")?Object($.jsx)("p",{style:{color:"green"},children:t.orderStatus}):Object($.jsx)("p",{style:{color:"red"},children:t.orderStatus}),actions:Object($.jsxs)(s.Fragment,{children:["\u2003\u2003\u2003\u2003",Object($.jsx)(n.b,{to:"/admin/order/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object($.jsx)("i",{className:"fa fa-eye"})})]})})})),e})(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})};var ac=e=>{let{match:t}=e;const[c,a]=Object(s.useState)(""),r=Object(d.d)(),l=Object(i.b)(),{loading:o,order:h={}}=Object(i.c)((e=>e.orderDetails)),{shippingInfo:m,orderItems:b,paymentInfo:p,user:u,totalPrice:O,orderStatus:x}=h,{error:g,isUpdated:v}=Object(i.c)((e=>e.order)),y=t.params.id;Object(s.useEffect)((()=>{l(Tt(y)),g&&(r.error(g),l(Ct())),v&&(r.success("C\u1eadp nh\u1eadt h\xf3a \u0111\u01a1n th\xe0nh c\xf4ng"),l({type:vt}))}),[l,r,g,v,y]);const N=e=>{const t=new FormData;t.set("status",c),l(((e,t)=>async c=>{try{c({type:xt});const s={headers:{"Content-Type":"application/json"}},{data:a}=await j.a.put("/api/v1/admin/order/".concat(e),t,s);c({type:gt,payload:a.success})}catch(g){c({type:yt,payload:g.response.data.message})}})(e,t))},f=m&&"".concat(m.address,", ").concat(m.city,", ").concat(m.postalCode,", ").concat(m.country),_=!(!p||"succeeded"!==p.status);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Process Order # ".concat(h&&h._id)}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-12 col-md-2",children:Object($.jsx)(Wt,{})}),Object($.jsx)("div",{className:"col-12 col-md-10",children:Object($.jsx)(s.Fragment,{children:o?Object($.jsx)(de,{}):Object($.jsxs)("div",{className:"row d-flex justify-content-around",children:[Object($.jsxs)("div",{className:"col-12 col-lg-7 order-details",children:[Object($.jsxs)("h2",{className:"my-5",children:["\u0110\u01a1n h\xe0ng # ",h._id]}),Object($.jsx)("h4",{className:"mb-4",children:"Th\xf4ng tin v\u1eadn chuy\u1ec3n"}),Object($.jsxs)("p",{children:[Object($.jsx)("b",{children:"T\xean kh\xe1ch h\xe0ng:"})," ",u&&u.name]}),Object($.jsxs)("p",{children:[Object($.jsx)("b",{children:"S\u1ed1 \u0111i\u1ec7n tho\u1ea1i:"})," ",m&&m.phoneNo]}),Object($.jsxs)("p",{className:"mb-4",children:[Object($.jsx)("b",{children:"\u0110\u1ecba ch\u1ec9:"}),f]}),Object($.jsxs)("p",{children:[Object($.jsx)("b",{children:"T\u1ed5ng ti\u1ec1n:"})," ",O," VN\u0110"]}),Object($.jsx)("hr",{}),Object($.jsx)("h4",{className:"my-4",children:"T\xecnh tr\u1ea1ng thanh to\xe1n"}),Object($.jsx)("p",{className:_?"greenColor":"redColor",children:Object($.jsx)("b",{children:_?"\u0110\xe3 thanh to\xe1n":"Ch\u01b0a thanh to\xe1n"})}),Object($.jsx)("h4",{className:"my-4",children:"Stripe ID"}),Object($.jsx)("p",{children:Object($.jsx)("b",{children:p&&p.id})}),Object($.jsx)("h4",{className:"my-4",children:"Tr\u1ea1ng th\xe1i h\xf3a \u0111\u01a1n:"}),Object($.jsx)("p",{className:h.orderStatus&&String(h.orderStatus).includes("\u0110\xe3 giao h\xe0ng")?"greenColor":"redColor",children:Object($.jsx)("b",{children:x})}),Object($.jsx)("h4",{className:"my-4",children:"C\xe1c m\u1eb7t h\xe0ng \u0111\xe3 \u0111\u1eb7t:"}),Object($.jsx)("hr",{}),Object($.jsx)("div",{className:"cart-item my-1",children:b&&b.map((e=>Object($.jsxs)("div",{className:"row my-5",children:[Object($.jsx)("div",{className:"col-4 col-lg-2",children:Object($.jsx)("img",{src:e.image,alt:e.name,height:"45",width:"65"})}),Object($.jsx)("div",{className:"col-5 col-lg-5",children:Object($.jsx)(n.b,{to:"/products/".concat(e.product),children:e.name})}),Object($.jsx)("div",{className:"col-4 col-lg-2 mt-4 mt-lg-0",children:Object($.jsxs)("p",{children:[e.price," VN\u0110"]})}),Object($.jsx)("div",{className:"col-4 col-lg-3 mt-4 mt-lg-0",children:Object($.jsxs)("p",{children:["S\u1ed1 l\u01b0\u1ee3ng ",e.quantity," "]})})]},e.product)))}),Object($.jsx)("hr",{})]}),Object($.jsxs)("div",{className:"col-12 col-lg-3 mt-5",children:[Object($.jsx)("h4",{className:"my-4",children:"Tr\u1ea1ng th\xe1i"}),Object($.jsx)("div",{className:"form-group",children:Object($.jsxs)("select",{className:"form-control",name:"status",value:c,onChange:e=>a(e.target.value),children:[Object($.jsx)("option",{value:"\u0110\xe3 \u0111\u1eb7t h\xe0ng",children:"\u0110\xe3 \u0111\u1eb7t h\xe0ng"}),Object($.jsx)("option",{value:"\u0110ang v\u1eadn chuy\u1ec3n",children:"\u0110ang v\u1eadn chuy\u1ec3n"}),Object($.jsx)("option",{value:"\u0110\xe3 giao h\xe0ng",children:"\u0110\xe3 giao h\xe0ng"})]})}),Object($.jsx)("button",{className:"btn btn-primary btn-block",onClick:()=>N(h._id),children:"C\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i"})]})]})})})]})]})};var rc=e=>{let{history:t}=e;const c=Object(d.d)(),a=Object(i.b)(),{loading:r,error:l,users:o}=Object(i.c)((e=>e.allUsers)),{isDeleted:j}=Object(i.c)((e=>e.user));Object(s.useEffect)((()=>{a(z()),l&&(c.error(l),a(Z())),j&&(c.success("User deleted successfully"),t.push("/admin/users"),a({type:"DELETE_USER_RESET"}))}),[a,c,l,j,t]);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"All Users"}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-12 col-md-2",children:Object($.jsx)(Wt,{})}),Object($.jsx)("div",{className:"col-12 col-md-10",children:Object($.jsxs)(s.Fragment,{children:[Object($.jsx)("h1",{className:"my-5",children:"T\u1ea5t c\u1ea3 ng\u01b0\u1eddi d\xf9ng"}),r?Object($.jsx)(de,{}):Object($.jsx)(It.c,{data:(()=>{const e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"T\xean ng\u01b0\u1eddi d\xf9ng",field:"name",sort:"asc"},{label:"Email",field:"email",sort:"asc"},{label:"Quy\u1ec1n",field:"role",sort:"asc"},{label:"Tr\u1ea1ng th\xe1i t\xe0i kho\u1ea3n    ",field:"status",sort:"asc"},{label:"H\xe0nh \u0111\u1ed9ng",field:"actions"}],rows:[]};return o.forEach((t=>{let c="";"look"===t.role&&(t.role="\u0110\xe3 b\u1ecb kh\xf3a"),"user"===t.role&&(t.role="Ng\u01b0\u1eddi d\xf9ng"),"admin"===t.role&&(t.role="Qu\u1ea3n tr\u1ecb"),t.role,c="Ho\u1ea1t \u0111\u1ed9ng",e.rows.push({id:t._id,name:t.name,email:t.email,role:t.role,status:t.role&&String(t.role).includes("\u0110\xe3 b\u1ecb kh\xf3a")?Object($.jsxs)("p",{style:{color:"red"},children:[Object($.jsx)("i",{class:"bi bi-key-fill"})," ",t.role]}):Object($.jsxs)("p",{style:{color:"green"},children:[Object($.jsx)("i",{class:"bi bi-activity"})," ",c]}),actions:Object($.jsxs)(s.Fragment,{children:["\u2003",Object($.jsx)(n.b,{to:"/admin/user/".concat(t._id),className:"btn btn-primary py-1 px-2",children:Object($.jsx)("i",{className:"fa fa-pencil"})}),"\u2003",Object($.jsx)(n.b,{to:"/admin/look_user/".concat(t._id),className:"btn btn-danger py-1 px-2",children:Object($.jsx)("i",{class:"bi bi-key-fill"})})]})})})),e})(),className:"px-3",bordered:!0,striped:!0,hover:!0})]})})]})]})};var nc=e=>{let{history:t,match:c}=e;const[a,r]=Object(s.useState)(""),[n,l]=Object(s.useState)(""),[o,j]=Object(s.useState)(""),h=Object(d.d)(),m=Object(i.b)(),{error:b,isUpdated:p}=Object(i.c)((e=>e.user)),{user:u}=Object(i.c)((e=>e.userDetails)),O=c.params.id;Object(s.useEffect)((()=>{console.log(u&&u._id!==O),u&&u._id!==O?m(Y(O)):(r(u.name),l(u.email),j(u.role)),b&&(h.error(b),m(Z())),p&&(h.success("C\u1eadp nh\u1eadt ng\u01b0\u1eddi d\xf9ng th\xe0nh c\xf4ng"),t.push("/admin/users"),m({type:Q}))}),[m,h,b,t,p,O,u]);return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Update User"}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-12 col-md-2",children:Object($.jsx)(Wt,{})}),Object($.jsx)("div",{className:"col-12 col-md-10",children:Object($.jsx)("div",{className:"row wrapper",children:Object($.jsx)("div",{className:"col-10 col-lg-5",children:Object($.jsxs)("form",{className:"shadow-lg",onSubmit:e=>{e.preventDefault();const t=new FormData;t.set("name",a),t.set("email",n),t.set("role",o),m(J(u._id,t))},children:[Object($.jsx)("h1",{className:"mt-2 mb-5",children:"C\u1eadp nh\u1eadt ng\u01b0\u1eddi d\xf9ng"}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"name_field",children:"T\xean"}),Object($.jsx)("input",{type:"name",id:"name_field",className:"form-control",name:"name",value:a,onChange:e=>r(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"email_field",children:"Email"}),Object($.jsx)("input",{type:"email",id:"email_field",className:"form-control",name:"email",value:n,onChange:e=>l(e.target.value)})]}),Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"role_field",children:"Quy\u1ec1n"}),Object($.jsxs)("select",{id:"role_field",className:"form-control",name:"role",value:o,onChange:e=>j(e.target.value),children:[Object($.jsx)("option",{value:"user",children:"Ng\u01b0\u1eddi d\xf9ng"}),Object($.jsx)("option",{value:"admin",children:"Qu\u1ea3n tr\u1ecb"}),Object($.jsx)("option",{value:"look",children:"Kh\xf3a t\xe0i kho\u1ea3n"})]})]}),Object($.jsx)("button",{type:"submit",className:"btn update-btn btn-block mt-4 mb-3",children:"C\u1eadp nh\u1eadt"})]})})})})]})]})};var lc=()=>{const[e,t]=Object(s.useState)(""),c=Object(d.d)(),a=Object(i.b)(),{error:r,reviews:n}=Object(i.c)((e=>e.productReviews)),{isDeleted:l,error:o}=Object(i.c)((e=>e.review));Object(s.useEffect)((()=>{r&&(c.error(r),a(qe())),o&&(c.error(o),a(qe())),""!==e&&a(Be(e)),l&&(c.success("\u0110\xe3 x\xf3a \u0111\xe1nh gi\xe1 th\xe0nh c\xf4ng"),a({type:Me}))}),[a,c,r,e,l,o]);const h=t=>{a(((e,t)=>async c=>{try{c({type:Le});const{data:s}=await j.a.delete("/api/v1/reviews?id=".concat(e,"&productId=").concat(t));c({type:Ge,payload:s.success})}catch(r){console.log(r.response),c({type:He,payload:r.response.data.message})}})(t,e))};return Object($.jsxs)(s.Fragment,{children:[Object($.jsx)(le,{title:"Product Reviews"}),Object($.jsxs)("div",{className:"row",children:[Object($.jsx)("div",{className:"col-12 col-md-2",children:Object($.jsx)(Wt,{})}),Object($.jsx)("div",{className:"col-12 col-md-10",children:Object($.jsxs)(s.Fragment,{children:[Object($.jsx)("div",{className:"row justify-content-center mt-5",children:Object($.jsx)("div",{className:"col-5",children:Object($.jsxs)("form",{onSubmit:t=>{t.preventDefault(),a(Be(e))},children:[Object($.jsxs)("div",{className:"form-group",children:[Object($.jsx)("label",{htmlFor:"productId_field",children:"Nh\u1eadp ID s\u1ea3n ph\u1ea9m"}),Object($.jsx)("input",{type:"text",id:"productId_field",className:"form-control",value:e,onChange:e=>t(e.target.value)})]}),Object($.jsx)("button",{id:"search_button",type:"submit",className:"btn btn-primary btn-block py-2",children:"T\xccM KI\u1ebeM"})]})})}),n&&n.length>0?Object($.jsx)(It.c,{data:(()=>{const e={columns:[{label:"ID",field:"id",sort:"asc"},{label:"X\u1ebfp h\u1ea1ng",field:"rating",sort:"asc"},{label:"N\u1ed9i dung \u0111\xe1nh gi\xe1",field:"comment",sort:"asc"},{label:"Ng\u01b0\u1eddi d\xf9ng",field:"user",sort:"asc"},{label:"H\xe0nh \u0111\u1ed9ng",field:"actions"}],rows:[]};return n.forEach((t=>{e.rows.push({id:t._id,rating:t.rating,comment:t.comment,user:t.name,actions:Object($.jsx)("button",{className:"btn btn-danger py-1 px-2 ml-2",onClick:()=>h(t._id),children:Object($.jsx)("i",{className:"fa fa-trash"})})})})),e})(),className:"px-3",bordered:!0,striped:!0,hover:!0}):Object($.jsx)("p",{className:"mt-5 text-center",children:"Kh\xf4ng c\xf3 b\xecnh lu\u1eadn cho s\u1ea3n ph\u1ea9m n\xe0y."})]})})]})]})};var ic=e=>{let{isAdmin:t,component:c,...a}=e;const{isAuthenticated:r,loading:n,user:d}=Object(i.c)((e=>e.auth));return Object($.jsx)(s.Fragment,{children:!1===n&&Object($.jsx)(l.b,{...a,render:e=>!1===r?Object($.jsx)(l.a,{to:"/login"}):!0===t&&"admin"!==d.role?Object($.jsx)(l.a,{to:"/"}):Object($.jsx)(c,{...e})})})},dc=c(93),oc=c(325),jc=c(324);const hc=Object(dc.combineReducers)({products:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case me:case oe:return{loading:!0,products:[]};case be:return{loading:!1,products:t.payload.products,productsCount:t.payload.productsCount,resPerPage:t.payload.resPerPage,filteredProductsCount:t.payload.filteredProductsCount};case je:return{loading:!1,products:t.payload};case pe:case he:return{loading:!1,error:t.payload};case We:return{...e,error:null};default:return e}},productDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return{...e,loading:!0};case Ce:return{loading:!1,product:t.payload};case Re:return{...e,error:t.payload};case We:return{...e,error:null};default:return e}},newProduct:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return{...e,loading:!0};case Oe:return{loading:!1,success:t.payload.success,product:t.payload.product};case ge:return{...e,error:t.payload};case xe:return{...e,success:!1};case We:return{...e,error:null};default:return e}},product:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:case _e:return{...e,loading:!0};case ye:return{...e,loading:!1,isDeleted:t.payload};case Se:return{...e,loading:!1,isUpdated:t.payload};case fe:case Te:return{...e,error:t.payload};case Ne:return{...e,isDeleted:!1};case Ee:return{...e,isUpdated:!1};case We:return{...e,error:null};default:return e}},productReviews:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{review:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ae:return{...e,loading:!0};case Ue:return{loading:!1,reviews:t.payload};case Pe:return{...e,error:t.payload};case We:return{...e,error:null};default:return e}},review:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Le:return{...e,loading:!0};case Ge:return{...e,loading:!1,isDeleted:t.payload};case He:return{...e,error:t.payload};case Me:return{...e,isDeleted:!1};case We:return{...e,error:null};default:return e}},auth:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:case p:case x:return{loading:!0,isAuthenticated:!1};case m:case u:case g:return{...e,loading:!1,isAuthenticated:!0,user:t.payload};case B:return{loading:!1,isAuthenticated:!1,user:null};case v:return{loading:!1,isAuthenticated:!1,user:null,error:t.payload};case q:return{...e,error:t.payload};case b:case O:return{...e,loading:!1,isAuthenticated:!1,user:null,error:t.payload};case K:return{...e,error:null};default:return e}},user:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:case S:case H:return{...e,loading:!0};case N:case E:case W:return{...e,loading:!1,isUpdated:t.payload};case f:case T:case Q:return{...e,isUpdated:!1};case _:case w:case V:return{...e,loading:!1,error:t.payload};case K:return{...e,error:null};default:return e}},allUsers:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{...e,loading:!0};case U:return{...e,loading:!1,users:t.payload};case P:return{...e,loading:!1,error:t.payload};case K:return{...e,error:null};default:return e}},userDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return{...e,loading:!0};case G:return{...e,loading:!1,user:t.payload};case M:return{...e,loading:!1,error:t.payload};case K:return{...e,error:null};default:return e}},forgotPassword:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:case D:return{...e,loading:!0,error:null};case R:return{...e,loading:!1,message:t.payload};case k:return{...e,success:t.payload};case F:case I:return{...e,loading:!1,error:t.payload};case K:return{...e,error:null};default:return e}},cart:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingInfo:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case et:const c=t.payload,s=e.cartItems.find((e=>e.product===c.product));return s?{...e,cartItems:e.cartItems.map((e=>e.product===s.product?c:e))}:{...e,cartItems:[...e.cartItems,c]};case tt:return{...e,cartItems:e.cartItems.filter((e=>e.product!==t.payload))};case ct:return{...e,shippingInfo:t.payload};default:return e}},newOrder:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case dt:return{...e,loading:!0};case ot:return{loading:!1,order:t.payload};case jt:return{loading:!1,error:t.payload};case St:return{...e,error:null};default:return e}},myOrders:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ht:return{loading:!0};case mt:return{loading:!1,orders:t.payload};case bt:return{loading:!1,error:t.payload};case St:return{...e,error:null};default:return e}},allOrders:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pt:return{loading:!0};case ut:return{loading:!1,orders:t.payload.orders,totalAmount:t.payload.totalAmount};case Ot:return{loading:!1,error:t.payload};case St:return{...e,error:null};default:return e}},orderDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Nt:return{loading:!0};case ft:return{loading:!1,order:t.payload};case _t:return{loading:!1,error:t.payload};case St:return{...e,error:null};default:return e}},order:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xt:return{...e,loading:!0};case gt:return{...e,loading:!1,isUpdated:t.payload};case yt:return{...e,error:t.payload};case vt:return{...e,isUpdated:!1};case St:return{...e,error:null};default:return e}},newReview:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe:return{...e,loading:!0};case De:return{loading:!1,success:t.payload};case Ie:return{...e,error:t.payload};case ke:return{...e,success:!1};case We:return{...e,error:null};default:return e}}});let mc={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],shippingInfo:localStorage.getItem("shippingInfo")?JSON.parse(localStorage.getItem("shippingInfo")):{}}};const bc=[oc.a];var pc=Object(dc.createStore)(hc,mc,Object(jc.composeWithDevTools)(Object(dc.applyMiddleware)(...bc))),uc=c(326);var Oc=function(){const[e,t]=Object(s.useState)("");Object(s.useEffect)((()=>{pc.dispatch(X()),async function(){const{data:e}=await j.a.get("/api/v1/stripeapi");t(e.stripeApiKey)}()}),[]);const{user:c,isAuthenticated:a,loading:r}=Object(i.c)((e=>e.auth));return Object($.jsx)(n.a,{children:Object($.jsxs)("div",{className:"App",children:[Object($.jsx)(te,{}),Object($.jsxs)("div",{children:[Object($.jsx)(l.b,{path:"/",component:Ye,exact:!0}),Object($.jsx)(l.b,{path:"/search/:keyword",component:Ye}),Object($.jsx)(l.b,{path:"/product/:id",component:at,exact:!0}),!r&&(!a||"admin"!==c.role)&&Object($.jsx)(l.b,{path:"/cart",component:rt,exact:!0}),!r&&(!a||"admin"!==c.role)&&Object($.jsx)(ic,{path:"/orders/me",component:At,exact:!0}),!r&&(!a||"admin"!==c.role)&&Object($.jsx)(ic,{path:"/shipping",component:lt}),!r&&(!a||"admin"!==c.role)&&Object($.jsx)(ic,{path:"/confirm",component:it,exact:!0}),Object($.jsx)(ic,{path:"/success",component:kt}),e&&Object($.jsx)(Rt.Elements,{stripe:Object(uc.a)(e),children:Object($.jsx)(ic,{path:"/payment",component:Dt})}),Object($.jsx)(l.b,{path:"/login",component:Pt}),Object($.jsx)(l.b,{path:"/register",component:Lt}),Object($.jsx)(ic,{path:"/me",component:Gt,exact:!0}),Object($.jsx)(ic,{path:"/me/update",component:Mt,exact:!0}),Object($.jsx)(ic,{path:"/password/update",component:Ht,exact:!0}),Object($.jsx)(ic,{path:"/order/:id",component:Ut,exact:!0})]}),Object($.jsx)(ic,{path:"/dashboard",isAdmin:!0,component:$t,exact:!0}),Object($.jsx)(ic,{path:"/admin/products",isAdmin:!0,component:ec,exact:!0}),Object($.jsx)(ic,{path:"/admin/product",isAdmin:!0,component:tc,exact:!0}),Object($.jsx)(ic,{path:"/admin/product/:id",isAdmin:!0,component:cc,exact:!0}),Object($.jsx)(ic,{path:"/admin/orders",isAdmin:!0,component:sc,exact:!0}),Object($.jsx)(ic,{path:"/admin/order/:id",isAdmin:!0,component:ac,exact:!0}),Object($.jsx)(ic,{path:"/admin/users",isAdmin:!0,component:rc,exact:!0}),Object($.jsx)(ic,{path:"/admin/user/:id",isAdmin:!0,component:nc,exact:!0}),Object($.jsx)(ic,{path:"/admin/reviews",isAdmin:!0,component:lc,exact:!0}),Object($.jsx)(ic,{path:"/admin/look_user/:id",isAdmin:!0,component:Qt,exact:!0}),Object($.jsx)(ce,{})]})})},xc=(c(613),c(614),c(327));const gc={timeout:5e3,position:d.b.BOTTOM_CENTER,transition:d.c.SCALE};r.a.render(Object($.jsx)(i.a,{store:pc,children:Object($.jsx)(d.a,{template:xc.a,...gc,children:Object($.jsx)(Oc,{})})}),document.getElementById("root"))}},[[615,1,2]]]);
//# sourceMappingURL=main.0fc89892.chunk.js.map